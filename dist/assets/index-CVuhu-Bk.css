@import"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap";*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,sans-serif}a{color:inherit;text-decoration:none}button{font:inherit;cursor:pointer;background:none;border:none}input,select,textarea{font:inherit}ul,ol{list-style:none}img{max-width:100%;display:block}:root{--dept-work: #6366f1;--dept-personal: #10b981;--dept-health: #f97316;--dept-learning: #8b5cf6;--dept-finance: #f43f5e;--dept-admin: #64748b;--dept-work-deep: #312e81;--dept-personal-deep: #064e3b;--dept-health-deep: #7c2d12;--dept-learning-deep: #2e1065;--dept-finance-deep: #4c0519;--dept-admin-deep: #1e293b;--bg-primary: #0f172a;--bg-secondary: #1e293b;--bg-tertiary: #334155;--bg-elevated: #475569;--bg-hover: rgba(255, 255, 255, .03);--bg-active: rgba(99, 102, 241, .1);--text-primary: #e2e8f0;--text-secondary: #94a3b8;--text-tertiary: #64748b;--text-muted: #475569;--accent-primary: #6366f1;--accent-secondary: #818cf8;--accent-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);--accent-success: #10b981;--accent-warning: #f59e0b;--accent-error: #ef4444;--border-primary: rgba(51, 65, 85, .6);--border-secondary: rgba(71, 85, 105, .5);--border-tertiary: rgba(51, 65, 85, .3);--border-accent: rgba(99, 102, 241, .4);--glass-bg: rgba(30, 41, 59, .8);--glass-border: rgba(51, 65, 85, .4);--glass-blur: blur(20px);--shadow-sm: 0 1px 2px rgba(0, 0, 0, .15);--shadow-md: 0 2px 6px rgba(0, 0, 0, .12);--shadow-lg: 0 4px 12px rgba(0, 0, 0, .18);--shadow-glow: 0 0 12px rgba(99, 102, 241, .1);--shadow-task: 0 1px 4px rgba(0, 0, 0, .1);--font-primary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;--font-mono: "JetBrains Mono", "Menlo", monospace;--font-size-xs: 11px;--font-size-sm: 12px;--font-size-md: 14px;--font-size-lg: 16px;--font-size-xl: 20px;--font-size-2xl: 28px;--font-weight-light: 300;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-semibold: 600;--font-weight-bold: 700;--header-height: 64px;--sidebar-width: 280px;--calendar-cell-height: 50px;--calendar-time-col: 64px;--space-xs: 4px;--space-sm: 8px;--space-md: 16px;--space-lg: 24px;--space-xl: 32px;--space-2xl: 48px;--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-full: 9999px;--transition-fast: .1s ease;--transition-normal: .2s ease;--transition-slow: .3s ease;--transition-spring: .4s cubic-bezier(.34, 1.56, .64, 1)}.update-notification{position:fixed;top:0;left:0;right:0;z-index:10000;background:linear-gradient(135deg,var(--primary-color) 0%,#2563eb 100%);color:#fff;padding:12px 20px;display:flex;align-items:center;justify-content:space-between;gap:16px;box-shadow:0 4px 12px #0000004d;transform:translateY(0);transition:transform .3s ease,opacity .3s ease}.update-notification.hidden{transform:translateY(-100%);opacity:0;pointer-events:none}.update-content{display:flex;align-items:center;gap:12px;font-size:14px;font-weight:500}.update-content svg{flex-shrink:0;animation:bounce 1s infinite}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-3px)}}.update-actions{display:flex;gap:8px;flex-shrink:0}.update-btn{padding:8px 16px;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s ease;border:none}.update-btn-primary{background:#fff;color:#1e40af}.update-btn-primary:hover{background:#ffffffe6;transform:scale(1.02)}.update-btn-secondary{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3)}.update-btn-secondary:hover{background:#ffffff4d}.update-notification:not(.hidden)~.app{margin-top:52px}@media (max-width: 600px){.update-notification{flex-direction:column;text-align:center;padding:16px}.update-actions{width:100%;justify-content:center}}*{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font-primary);background-color:var(--bg-primary);color:var(--text-primary);height:100vh;display:flex;flex-direction:column;overflow:hidden;line-height:1.5;-webkit-font-smoothing:antialiased}.app{display:flex;flex-direction:column;height:100vh;overflow:hidden;background-color:var(--bg-primary)}header{height:var(--header-height);padding:0 var(--space-lg);display:flex;align-items:center;justify-content:space-between;background:linear-gradient(180deg,var(--bg-tertiary) 0%,var(--bg-secondary) 100%);border-bottom:1px solid var(--border-primary);z-index:30;flex-shrink:0}.header-left{display:flex;align-items:center;gap:var(--space-md);white-space:nowrap}.header-title{font-size:18px;font-weight:600;color:var(--text-primary);display:flex;align-items:center;gap:8px}.version-badge{font-size:10px;font-weight:600;color:var(--text-tertiary);background:var(--bg-secondary);padding:2px 6px;border-radius:var(--radius-full);border:1px solid var(--border-primary)}.header-nav{display:flex;align-items:center;gap:var(--space-sm)}.current-week-display{font-size:var(--font-size-md);font-weight:500;color:var(--text-primary);min-width:140px;text-align:center}.header-right{display:flex;align-items:center;gap:var(--space-sm)}.main-content{flex:1;display:flex;flex-direction:row;position:relative;overflow:hidden}.sidebar{width:var(--sidebar-width);background:#0f172a99;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border-right:1px solid var(--border-tertiary);display:flex;flex-direction:column;z-index:20;flex-shrink:0;transition:width var(--transition-normal)}.sidebar.collapsed{width:40px;min-width:40px;border-right:1px solid var(--border-primary);overflow:hidden}.sidebar.collapsed .sidebar-inner{display:none}.sidebar.collapsed .sidebar-toggle svg{transform:rotate(180deg)}.sidebar-toggle-row{padding:var(--space-sm);display:flex;justify-content:flex-end;border-bottom:1px solid var(--border-primary);background-color:var(--bg-tertiary);min-height:40px;flex-shrink:0}.sidebar-inner{flex:1;display:flex;flex-direction:column;overflow:hidden;min-height:0}.sidebar-tabs{display:flex;border-bottom:1px solid var(--border-primary);background:var(--bg-secondary);flex-shrink:0}.sidebar-tab{flex:1;padding:10px;font-size:var(--font-size-sm);font-weight:500;color:var(--text-secondary);background:transparent;border:none;cursor:pointer;text-align:center;border-bottom:2px solid transparent}.sidebar-tab:hover{color:var(--text-primary);background-color:var(--bg-hover)}.sidebar-tab.active{color:var(--accent-primary);border-bottom-color:var(--accent-primary);background-color:#3b82f61a}.sidebar-search{padding:var(--space-sm);border-bottom:1px solid var(--border-primary);background-color:var(--bg-secondary);flex-shrink:0}.search-input-wrapper{position:relative;display:flex;align-items:center}.search-icon{position:absolute;left:8px;color:var(--text-tertiary)}.search-input{width:100%;padding:6px 12px 6px 30px;background:var(--bg-primary);border:1px solid var(--border-primary);border-radius:var(--radius-sm);color:var(--text-primary);font-size:var(--font-size-sm)}.search-input:focus{outline:none;border-color:var(--accent-primary)}.task-queue-actions{display:flex;justify-content:space-between;padding:var(--space-sm);background-color:var(--bg-tertiary);border-bottom:1px solid var(--border-primary);flex-shrink:0}.btn-text{background:none;border:none;color:var(--text-secondary);font-size:11px;cursor:pointer;display:flex;align-items:center;gap:4px}.btn-text:hover{color:var(--text-primary)}.task-queue{padding:var(--space-sm);flex:1;overflow-y:auto}.task-queue-empty{text-align:center;padding:var(--space-xl);color:var(--text-tertiary);border:2px dashed var(--border-primary);margin:var(--space-md);border-radius:var(--radius-md)}.calendar-container{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0}.calendar-header{display:grid;grid-template-columns:var(--calendar-time-col, 60px) repeat(7,1fr);background-color:var(--bg-tertiary);border-bottom:1px solid var(--border-primary);flex-shrink:0;position:sticky;top:0;z-index:20}.calendar-header-cell{padding:var(--space-sm);display:flex;flex-direction:column;align-items:center;justify-content:center;border-right:1px solid var(--border-tertiary)}.calendar-header-cell:first-child{background-color:var(--bg-secondary)}.calendar-header-cell:last-child{border-right:none}.calendar-day-name{font-size:var(--font-size-xs);font-weight:600;color:var(--text-secondary);text-transform:uppercase}.calendar-day-date{font-size:var(--font-size-lg);font-weight:600;color:var(--text-primary)}.calendar-day-date.today{background-color:var(--accent-primary);color:#fff;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.calendar-day-goal{margin-top:4px;width:100%;padding:2px 4px;font-size:10px;background:var(--bg-primary);border:1px solid var(--border-tertiary);border-radius:2px;color:var(--text-secondary);text-align:center}.calendar-day-goal:focus{outline:none;border-color:var(--accent-primary);color:var(--text-primary)}.day-view-header-new{display:flex!important;flex-direction:row!important;align-items:center;justify-content:space-between;padding:var(--space-md) var(--space-lg)!important;gap:var(--space-lg);background:linear-gradient(180deg,var(--bg-tertiary) 0%,var(--bg-secondary) 100%);min-height:70px}.day-header-left{flex-shrink:0}.day-header-date{font-size:18px;font-weight:600;color:var(--text-primary)}.day-header-date.today{color:var(--accent-primary);text-shadow:0 0 20px rgba(59,130,246,.3)}.day-header-center{flex:1;max-width:400px;display:flex;justify-content:center}.day-header-goal{width:100%;padding:10px 16px;font-size:14px;font-weight:500;background:var(--bg-primary);border:2px solid var(--border-primary);border-radius:var(--radius-md);color:var(--text-primary);text-align:center;transition:all var(--transition-fast)}.day-header-goal::placeholder{color:var(--text-tertiary)}.day-header-goal:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #3b82f633}.day-header-right{flex-shrink:0}.day-header-clock{font-size:32px;font-weight:700;color:var(--accent-primary);font-variant-numeric:tabular-nums;text-shadow:0 0 30px rgba(59,130,246,.4);letter-spacing:-1px}.calendar-grid{display:grid;grid-template-columns:var(--calendar-time-col, 60px) repeat(7,1fr);flex:1;overflow-y:auto;overflow-x:hidden;background-color:var(--bg-primary);position:relative}.calendar-cell{height:60px;border-bottom:1px solid var(--border-tertiary);border-right:1px solid var(--border-tertiary);position:relative;transition:background-color .1s;overflow:hidden}.calendar-cell:hover{background-color:var(--bg-hover);cursor:pointer}.calendar-cell.drop-target{background-color:#3b82f626}.calendar-cell.drop-invalid{background-color:#ef444426}.calendar-cell.drag-over{outline:2px dashed var(--accent-primary);outline-offset:-2px}.time-slot-label{height:60px;display:flex;align-items:flex-start;justify-content:center;padding-top:4px;font-size:var(--font-size-xs);color:var(--text-tertiary);background-color:var(--bg-secondary);border-bottom:1px solid var(--border-tertiary)}#currentTimeMarker{position:absolute;left:var(--calendar-time-col, 64px);right:0;height:1px;background:#ff2d55;z-index:100;pointer-events:none;box-shadow:0 0 4px #ff2d55,0 0 12px #ff2d5599,0 0 24px #ff2d554d}#currentTimeMarker:before{content:"";position:absolute;left:-5px;top:-4.5px;width:10px;height:10px;background-color:#ff2d55;border-radius:50%;box-shadow:0 0 10px #ff2d55;animation:pulse 1.5s ease-in-out infinite;z-index:101}#currentTimeMarker:after{content:attr(data-time);position:absolute;left:-64px;top:-9px;font-size:10px;font-weight:700;color:#ff2d55;background:var(--bg-primary);padding:2px 6px;border-radius:var(--radius-sm);white-space:nowrap;box-shadow:0 0 10px #ff2d5533;border:1px solid rgba(255,45,85,.3)}@keyframes pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}.planner-container{flex:1;overflow-y:auto;overflow-x:hidden;padding:var(--space-md);display:flex;flex-direction:column}.planner-grid{display:grid;grid-template-columns:60px repeat(7,1fr);flex:1;background-color:var(--bg-secondary);border:1px solid var(--border-primary);overflow:hidden;min-height:0}.time-column{display:flex;flex-direction:column;background-color:var(--bg-secondary);border-right:1px solid var(--border-primary)}.time-header-spacer{height:50px;border-bottom:1px solid var(--border-primary);background-color:var(--bg-tertiary)}.time-slot-label{height:60px;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-xs);color:var(--text-secondary);border-bottom:1px solid var(--border-tertiary)}.day-column{display:flex;flex-direction:column;border-right:1px solid var(--border-tertiary);min-width:0;background-color:var(--bg-primary);position:relative}.day-column:last-child{border-right:none}.day-header{height:50px;padding:var(--space-xs);background-color:var(--bg-tertiary);border-bottom:1px solid var(--border-primary);display:flex;flex-direction:column;align-items:center;justify-content:center;position:sticky;top:0;z-index:10}.day-name{font-size:var(--font-size-xs);font-weight:600;color:var(--text-secondary);text-transform:uppercase}.day-date{font-size:var(--font-size-md);font-weight:600;color:var(--text-primary)}.day-header.today{background-color:#3b82f61a}.day-header.today .day-date{color:var(--accent-primary)}.btn{white-space:nowrap}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:8px 16px;height:36px;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);border-radius:var(--radius-md);border:1px solid var(--border-secondary);cursor:pointer;transition:all var(--transition-normal);background-color:var(--bg-elevated);color:var(--text-primary)}.btn:hover{background-color:var(--bg-hover);border-color:var(--border-primary);transform:translateY(-1px)}.btn:active{transform:translateY(0)}.btn-primary{background:var(--accent-gradient);color:#fff;border:none;font-weight:var(--font-weight-semibold);box-shadow:var(--shadow-md),0 0 20px #3b82f633}.btn-primary:hover{box-shadow:var(--shadow-lg),0 0 30px #3b82f64d;transform:translateY(-2px)}.btn-secondary{background:var(--bg-tertiary);border-color:var(--border-secondary)}.nav-btn{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;background:var(--bg-tertiary);border:1px solid var(--border-primary);border-radius:var(--radius-md);color:var(--text-secondary);cursor:pointer;transition:all var(--transition-normal)}.nav-btn:hover{background-color:var(--bg-elevated);color:var(--text-primary);border-color:var(--border-secondary)}.view-toggle{display:flex;background:var(--bg-secondary);padding:3px;border-radius:var(--radius-md);border:1px solid var(--border-primary)}.view-btn{padding:6px 14px;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--text-tertiary);background:transparent;border:none;border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast)}.view-btn:hover{color:var(--text-secondary)}.view-btn.active{background:var(--accent-gradient);color:#fff;font-weight:var(--font-weight-semibold)}.sidebar-toggle{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:var(--bg-elevated);border:1px solid var(--border-primary);border-radius:var(--radius-sm);color:var(--text-secondary);cursor:pointer;transition:all var(--transition-normal)}.sidebar-toggle:hover{color:var(--text-primary);background:var(--bg-hover)}.task-block{position:relative;display:flex;flex-direction:column;padding:var(--space-sm) var(--space-md);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);background:linear-gradient(to bottom,color-mix(in srgb,var(--task-color) 40%,var(--bg-secondary)),color-mix(in srgb,var(--task-color) 15%,var(--bg-primary)));border-radius:var(--radius-md);cursor:grab;border:1px solid rgba(255,255,255,.1);border-top:1px solid rgba(255,255,255,.4);border-left:4px solid var(--task-color, var(--accent-primary));overflow:hidden;transition:all var(--transition-normal);color:#ffffffe6}.task-block.day-view{padding:var(--space-xl) var(--space-lg);margin:4px 16px;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);background:linear-gradient(to bottom,color-mix(in srgb,var(--task-color) 45%,var(--bg-secondary)),color-mix(in srgb,var(--task-color) 20%,var(--bg-primary)));border-radius:var(--radius-lg);border:1px solid rgba(255,255,255,.1);border-top:1px solid rgba(255,255,255,.4);border-left:4px solid var(--task-color);box-shadow:0 1px 4px #00000014;min-height:100%}.view-day .calendar-task{position:relative!important;height:auto!important;min-height:60px;margin-bottom:var(--space-md);top:0!important;left:0!important;right:0!important}.view-day .task-block{height:auto!important}.view-day .day-column{display:flex;flex-direction:column;padding-top:var(--space-md);overflow-y:auto}.task-block.day-view .task-title{font-size:16px;font-weight:var(--font-weight-semibold);margin-bottom:var(--space-xs)}.task-block.day-view .task-duration{font-size:12px;font-weight:var(--font-weight-bold);background:#ffffff1a;padding:2px 8px;border-radius:var(--radius-sm);color:#fff}.task-block:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,var(--task-color) 0%,transparent 60%);opacity:.08;pointer-events:none;z-index:0;transition:opacity var(--transition-normal)}.calendar-task .task-block{box-shadow:var(--shadow-task)}.task-block:hover{border-color:var(--task-color);transform:translateY(-1px);box-shadow:var(--shadow-md)}.task-block:hover:before{opacity:.12}.task-block.completed{opacity:.5;background:var(--bg-secondary)}.task-block.completed:before{display:none}.task-block.completed .task-title{text-decoration:line-through;color:var(--text-tertiary)}.task-block.dragging{opacity:.9;cursor:grabbing;transform:scale(1.02) rotate(1deg);box-shadow:var(--shadow-lg)}.task-header,.task-title,.task-hierarchy,.task-duration,.task-top-dept{position:relative;z-index:1}.task-header-row{display:flex;align-items:center;gap:4px;width:100%;overflow:hidden}.task-header-left{display:flex;align-items:center;gap:4px;flex-shrink:1;min-width:0;overflow:hidden}.task-header-left .task-title{font-size:11px;font-weight:var(--font-weight-semibold);color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:80px}.task-step-progress{position:relative;display:inline-flex;align-items:center;justify-content:center;text-align:center;font-size:9px;font-weight:var(--font-weight-bold);white-space:nowrap;overflow:hidden;padding:2px 6px;min-width:40px;max-width:70px;background:#00000040;border-radius:var(--radius-full);flex-shrink:0}.task-step-progress .step-fill{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,var(--task-color, var(--accent-primary)),color-mix(in srgb,var(--task-color, var(--accent-primary)) 70%,white));border-radius:var(--radius-full);transition:width .4s cubic-bezier(.16,1,.3,1);box-shadow:0 0 6px var(--task-color, var(--accent-primary))}.task-step-progress .step-text{position:relative;z-index:1;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5)}.task-block.day-view .task-step-progress{flex:1;max-width:none;min-width:100px;height:28px;font-size:14px;font-weight:var(--font-weight-bold);padding:0 16px;border-radius:var(--radius-full);background:#00000059}.task-block.day-view .task-step-progress .step-text{font-size:14px;letter-spacing:.5px}.task-header-row .task-duration{flex-shrink:0;font-size:10px;font-weight:var(--font-weight-bold);color:var(--text-secondary);background:#ffffff26;padding:2px 6px;border-radius:var(--radius-sm);margin-left:auto}.task-hierarchy-row{font-size:12px;color:color-mix(in srgb,var(--task-color) 70%,white);margin-top:10px;padding-top:10px;border-top:1px solid rgba(255,255,255,.1);font-weight:var(--font-weight-medium);letter-spacing:.3px}.task-progress-row{margin-top:8px;padding-top:8px;border-top:1px solid rgba(255,255,255,.1)}.task-step-progress.full-width{display:flex;width:100%;max-width:none;height:20px;font-size:11px;padding:0 8px;border-radius:var(--radius-sm);background:#00000059}.task-block.day-view .task-header-left .task-title{font-size:16px;max-width:300px;font-weight:var(--font-weight-bold)}.task-block.day-view .task-header-row{gap:12px}.task-block.day-view .task-duration{font-size:13px;padding:6px 12px;background:#ffffff26;font-weight:var(--font-weight-bold)}.task-block.layout-compact{padding:var(--space-xs) var(--space-sm)}.task-block.layout-standard{padding:var(--space-sm) var(--space-md)}.task-block.layout-full{padding:var(--space-md) var(--space-lg)}.task-header{display:flex;align-items:center;gap:var(--space-xs);margin-bottom:4px}.task-dept-badge{display:inline-flex;align-items:center;justify-content:center;min-width:24px;height:18px;padding:0 6px;font-size:10px;font-weight:var(--font-weight-bold);color:#fff;background:var(--task-color, var(--accent-primary));border-radius:var(--radius-full);text-transform:uppercase;letter-spacing:.5px}.task-top-dept{font-size:11px;font-weight:var(--font-weight-semibold);color:var(--task-color);text-transform:uppercase;letter-spacing:.5px}.task-duration{font-size:11px;color:var(--text-tertiary);margin-left:auto}.task-title{font-size:var(--font-size-sm);color:var(--text-primary);font-weight:var(--font-weight-medium);line-height:1.4}.task-hierarchy{font-size:11px;color:color-mix(in srgb,var(--task-color) 50%,white);opacity:.9;margin-top:2px;font-weight:var(--font-weight-medium);text-shadow:0 1px 2px rgba(0,0,0,.2)}.task-goal{font-size:13px;font-weight:var(--font-weight-semibold);color:#fffffff2;margin:4px 0 6px;line-height:1.3}.task-notes{margin-top:var(--space-md);padding-top:var(--space-sm);border-top:1px solid rgba(255,255,255,.1)}.notes-summary{display:flex;align-items:center;gap:12px}.notes-count{font-size:12px;font-weight:var(--font-weight-semibold);color:#ffffffb3;white-space:nowrap;flex-shrink:0}.notes-progress-bar{flex:1;height:6px;background:#ffffff1a;border-radius:var(--radius-full);overflow:hidden;min-width:100px}.notes-progress-fill{height:100%;background:linear-gradient(90deg,var(--task-color),color-mix(in srgb,var(--task-color) 70%,white));box-shadow:0 0 10px var(--task-color);transition:width .4s cubic-bezier(.16,1,.3,1)}.task-delete{position:absolute;top:4px;right:4px;width:20px;height:20px;display:none;align-items:center;justify-content:center;background:#000000b3;backdrop-filter:blur(4px);border-radius:var(--radius-full);color:#fff;cursor:pointer;border:none;z-index:100;pointer-events:all;transition:all var(--transition-fast);font-size:12px}.task-block:hover .task-delete{display:flex}.task-delete:hover{background-color:var(--accent-error);color:#fff;transform:scale(1.1)}.calendar-task{position:absolute;left:2px;right:2px;z-index:10;border-radius:var(--radius-md);overflow:visible}.calendar-task .task-block{height:100%;border-radius:var(--radius-md)}.calendar-task.compact .task-block{padding:4px 8px;flex-direction:row;align-items:center;gap:6px}.calendar-task.compact .task-header-row{display:flex;align-items:center;width:100%;gap:6px;justify-content:space-between}.calendar-task.compact .task-header-left{display:flex;align-items:center;gap:4px;flex-shrink:1;min-width:0;overflow:hidden}.calendar-task.compact .task-header{margin-bottom:0;flex-shrink:0}.calendar-task.compact .task-dept-badge{height:16px;min-width:20px;font-size:9px;padding:0 4px;flex-shrink:0}.calendar-task.compact .task-title{font-size:11px;line-height:1.2;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.calendar-task.compact .task-duration{font-size:9px;flex-shrink:0;padding:2px 6px}.calendar-task.compact .task-hierarchy{display:none}.calendar-task.compact .task-top-dept{font-size:9px}.task-progress-overlay{position:absolute;top:0;left:0;right:0;height:0%;background:linear-gradient(180deg,#1e293b80,#1e293b59);pointer-events:none;transition:height .8s cubic-bezier(.4,0,.2,1);z-index:2;border-radius:inherit}.task-progress-overlay.in-progress{border-bottom:1px solid rgba(255,255,255,.15)}.task-progress-overlay.expired{height:100%!important;opacity:0}.calendar-task.time-passed .task-block{filter:saturate(.3) brightness(.55)!important;border:1px solid rgba(255,255,255,.2)!important;border-left:4px solid color-mix(in srgb,var(--task-color) 50%,transparent)!important;box-shadow:inset 0 1px #ffffff40,inset 0 2px 4px #ffffff1a;position:relative}.calendar-task.time-passed .task-block:after{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,#ffffff80,#ffffff4d,#ffffff1a);pointer-events:none;z-index:3;border-radius:inherit}.calendar-task.time-passed .task-block:before{content:"";position:absolute;inset:0;background:linear-gradient(180deg,#0f172a59,#0f172a8c);pointer-events:none;z-index:1;border-radius:inherit}.calendar-task.time-passed .task-block .task-header,.calendar-task.time-passed .task-block .task-title,.calendar-task.time-passed .task-block .task-duration,.calendar-task.time-passed .task-block .task-hierarchy-row,.calendar-task.time-passed .task-block .dept-badge{position:relative;z-index:2}.calendar-task.time-passed .task-block .task-title{color:var(--text-tertiary)!important}.calendar-task.time-passed .task-block .task-duration{opacity:.6!important}.calendar-task.time-passed .task-block .task-hierarchy-row{color:var(--text-tertiary)}.calendar-task .task-block.completed{background:var(--bg-secondary)!important;opacity:.45;filter:grayscale(30%)}.calendar-task .task-block.completed:before{display:none}.task-queue .task-block{background:transparent;border:1px solid var(--border-tertiary);border-left:3px solid color-mix(in srgb,var(--task-color) 50%,transparent);border-top:none;color:var(--text-tertiary)}.task-queue .task-block .task-title{color:var(--text-tertiary)}.task-queue .task-block .task-duration{color:var(--text-muted);background:transparent}.task-queue .task-block:hover{background:color-mix(in srgb,var(--task-color) 15%,transparent);border-color:color-mix(in srgb,var(--task-color) 30%,transparent);border-left:3px solid var(--task-color)}.task-queue .task-block:hover .task-title{color:var(--text-primary)}.focus-overlay{position:fixed;inset:0;z-index:2000;background:#0f172aeb;backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);display:flex;align-items:center;justify-content:center;animation:focusFadeIn .4s cubic-bezier(.16,1,.3,1)}@keyframes focusFadeIn{0%{opacity:0;backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(24px)}}.focus-card{width:92%;max-width:520px;background:color-mix(in srgb,var(--task-color, #6366f1) 8%,var(--bg-secondary));border:1px solid var(--border-primary);border-radius:20px;padding:40px 36px;box-shadow:0 25px 60px -15px #0009,inset 0 1px #ffffff08;position:relative;animation:cardFloat .5s cubic-bezier(.16,1,.3,1);overflow:hidden}.focus-card:before{display:none}.focus-card:after{content:"";position:absolute;width:200px;height:200px;background:radial-gradient(circle,color-mix(in srgb,var(--task-color) 20%,transparent) 0%,transparent 70%);bottom:-80px;left:-60px;pointer-events:none;filter:blur(50px);opacity:.4}@keyframes cardFloat{0%{opacity:0;transform:scale(.92) translateY(30px)}to{opacity:1;transform:scale(1) translateY(0)}}.focus-close{position:absolute;top:20px;right:20px;background:#ffffff0f;border:1px solid rgba(255,255,255,.08);color:var(--text-tertiary);cursor:pointer;width:36px;height:36px;border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;z-index:10}.focus-close:hover{background:#ffffff1f;border-color:#ffffff26;color:var(--text-primary);transform:scale(1.05)}.focus-header{margin-bottom:32px;text-align:center;position:relative;z-index:1}.focus-title{font-size:18px;text-transform:uppercase;letter-spacing:3px;color:var(--task-color);font-weight:700;display:inline-block;margin-bottom:16px;padding:8px 18px;background:color-mix(in srgb,var(--task-color) 15%,transparent);border-radius:24px;border:1px solid color-mix(in srgb,var(--task-color) 25%,transparent)}.focus-goal{font-size:18px;font-weight:500;color:var(--text-secondary);letter-spacing:.5px;line-height:1.4;margin:0}.focus-section{position:relative;z-index:1}.section-label{font-size:11px;text-transform:uppercase;color:var(--text-tertiary);margin-bottom:14px;letter-spacing:1.5px;font-weight:500}.focus-checklist{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}.checklist-item{display:flex;align-items:center;gap:14px;padding:14px 16px;background:#ffffff08;border:1px solid rgba(255,255,255,.06);border-radius:14px;cursor:pointer;transition:all .2s ease;position:relative;overflow:hidden}.checklist-item:before{content:"";position:absolute;inset:0;background:linear-gradient(90deg,color-mix(in srgb,var(--task-color) 8%,transparent) 0%,transparent 50%);opacity:0;transition:opacity .2s ease}.checklist-item:hover{background:#ffffff0f;border-color:#ffffff1a;transform:translate(4px)}.checklist-item:hover:before{opacity:1}.checklist-item.done{opacity:.5}.checklist-item.done span{text-decoration:line-through;color:var(--text-tertiary)}.checkbox{width:22px;height:22px;border:2px solid rgba(255,255,255,.2);border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all .25s cubic-bezier(.16,1,.3,1);flex-shrink:0;position:relative;z-index:1}.checkbox.checked{background:linear-gradient(135deg,var(--task-color) 0%,color-mix(in srgb,var(--task-color) 80%,white) 100%);border-color:transparent;box-shadow:0 0 20px color-mix(in srgb,var(--task-color) 50%,transparent);transform:scale(1.1)}.checklist-item span{font-size:14px;color:var(--text-secondary);position:relative;z-index:1;flex:1}.focus-footer{margin-top:32px;display:flex;justify-content:center;position:relative;z-index:1}.focus-complete-btn{padding:16px 40px;font-size:15px;font-weight:600;height:auto;border-radius:16px;background:linear-gradient(135deg,var(--task-color) 0%,color-mix(in srgb,var(--task-color) 70%,#1e1b4b) 100%);border:1px solid color-mix(in srgb,var(--task-color) 50%,white);box-shadow:0 10px 30px -5px color-mix(in srgb,var(--task-color) 40%,transparent),inset 0 1px #fff3;transition:all .3s cubic-bezier(.16,1,.3,1)}.focus-complete-btn:hover{transform:translateY(-2px);box-shadow:0 15px 40px -5px color-mix(in srgb,var(--task-color) 50%,transparent),inset 0 1px #ffffff40}.add-minitask-container{margin-top:12px;position:relative;z-index:1}.add-minitask-btn{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:14px;background:transparent;border:1px dashed rgba(255,255,255,.12);border-radius:14px;color:var(--text-tertiary);font-size:13px;cursor:pointer;transition:all .2s ease}.add-minitask-btn:hover{background:#ffffff0a;border-color:var(--task-color);color:var(--task-color)}.add-minitask-input-wrap{display:flex;gap:10px;width:100%}.add-minitask-input{flex:1;padding:14px 16px;background:#ffffff0a;border:1px solid rgba(255,255,255,.1);border-radius:14px;color:var(--text-primary);font-size:14px;outline:none;transition:all .2s ease}.add-minitask-input:focus{border-color:var(--task-color);background:#ffffff0f;box-shadow:0 0 0 4px color-mix(in srgb,var(--task-color) 15%,transparent)}.add-minitask-input::placeholder{color:var(--text-tertiary)}.add-minitask-confirm{padding:14px 20px;background:var(--task-color);border:none;border-radius:14px;color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease}.add-minitask-confirm:hover{filter:brightness(1.15);transform:scale(1.02)}.delete-minitask{margin-left:auto;padding:6px;background:transparent;border:none;border-radius:8px;color:var(--text-tertiary);cursor:pointer;opacity:0;transition:all .2s ease;position:relative;z-index:1}.checklist-item:hover .delete-minitask{opacity:1}.delete-minitask:hover{background:#ef444426;color:#ef4444}.checklist-empty{padding:24px;text-align:center;color:var(--text-tertiary);font-style:italic;font-size:14px}.filter-panel{padding:var(--space-md)}.filter-item{margin-bottom:4px}.filter-checkbox-label{display:flex;align-items:center;gap:var(--space-sm);padding:6px 8px;border-radius:var(--radius-sm);cursor:pointer;transition:background var(--transition-fast)}.filter-checkbox-label:hover{background:var(--bg-hover)}.filter-checkbox{width:16px;height:16px;accent-color:var(--accent-primary);cursor:pointer}.filter-color{width:12px;height:12px;border-radius:var(--radius-full);flex-shrink:0}.filter-name{font-size:var(--font-size-sm);color:var(--text-secondary)}.filter-checkbox:checked+.filter-color+.filter-name{color:var(--text-primary);font-weight:var(--font-weight-medium)}.filter-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-md);padding-bottom:var(--space-sm);border-bottom:1px solid var(--border-tertiary)}.filter-title{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--text-tertiary);margin:0}.filter-clear-btn{font-size:var(--font-size-xs);color:var(--text-muted);background:none;border:none;cursor:pointer;padding:4px 8px;border-radius:var(--radius-sm);transition:all var(--transition-fast)}.filter-clear-btn:hover{color:var(--accent-error);background:#ef44441a}.filter-cards{display:flex;flex-direction:column;gap:var(--space-sm)}.filter-card{position:relative;display:flex;flex-direction:column;padding:var(--space-md);background:transparent;border:1px solid var(--border-tertiary);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-normal);overflow:hidden}.filter-card:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--dept-color);opacity:.5;transition:all var(--transition-normal)}.filter-card:hover{background:#ffffff08;border-color:color-mix(in srgb,var(--dept-color) 30%,transparent)}.filter-card:hover:before{opacity:1;width:4px}.filter-card.selected{background:color-mix(in srgb,var(--dept-color) 10%,transparent);border-color:color-mix(in srgb,var(--dept-color) 40%,transparent)}.filter-card.selected:before{opacity:1;width:4px}.filter-card-header{display:flex;align-items:center;gap:var(--space-sm)}.filter-card-color{width:12px;height:12px;border-radius:var(--radius-full);opacity:.7}.filter-card:hover .filter-card-color,.filter-card.selected .filter-card-color{opacity:1}.filter-card-name{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--text-tertiary);transition:color var(--transition-fast)}.filter-card:hover .filter-card-name,.filter-card.selected .filter-card-name{color:var(--text-primary)}.filter-card-count{font-size:var(--font-size-xs);color:var(--text-muted);margin-top:2px;padding-left:20px}.filter-card-check{position:absolute;right:var(--space-md);top:50%;transform:translateY(-50%);width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border:2px solid var(--border-secondary);border-radius:var(--radius-full);opacity:.5;transition:all var(--transition-normal)}.filter-card-check svg{width:14px;height:14px;opacity:0;transition:opacity var(--transition-fast)}.filter-card.selected .filter-card-check{background:var(--accent-success);border-color:var(--accent-success);opacity:1}.filter-card.selected .filter-card-check svg{opacity:1;color:#fff}.analytics-container{padding:var(--space-md)}.analytics-stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:var(--space-md)}.analytics-stat-card{display:flex;flex-direction:column;align-items:center;text-align:center;gap:4px;padding:10px 8px;background:linear-gradient(135deg,#ffffff0f,#ffffff05);border-radius:10px;border:1px solid rgba(255,255,255,.08)}.analytics-stat-card:last-child{grid-column:span 2;flex-direction:row;justify-content:center;gap:10px}.stat-icon{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border-radius:8px;flex-shrink:0}.stat-icon svg{opacity:.9}.stat-icon-tasks{color:#10b981;background:#10b9811f}.stat-icon-mini{color:#a855f7;background:#a855f71f}.stat-icon-time{color:#3b82f6;background:#3b82f61f}.stat-content{flex:1;min-width:0}.stat-value{font-size:16px;font-weight:700;color:var(--text-primary);line-height:1.2}.stat-value .stat-total{font-size:11px;font-weight:500;color:var(--text-tertiary)}.stat-label{font-size:9px;font-weight:600;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px;margin-top:2px}.stat-bar{height:3px;width:100%;background:#ffffff14;border-radius:2px;margin-top:6px;overflow:hidden}.stat-bar-fill{height:100%;background:linear-gradient(90deg,#10b981,#22d3ee);border-radius:2px;transition:width .5s ease}.stat-bar-fill.mini{background:linear-gradient(90deg,#8b5cf6,#a855f7)}.analytics-header{margin-bottom:var(--space-md)}.analytics-header h3{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:var(--text-primary);margin-bottom:4px}.analytics-total{font-size:var(--font-size-sm);color:var(--text-tertiary)}.analytics-bar-container{margin-bottom:var(--space-md)}.analytics-bar-label{display:flex;justify-content:space-between;margin-bottom:6px}.analytics-dept{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium)}.analytics-value{font-size:var(--font-size-xs);color:var(--text-tertiary)}.analytics-bar-wrapper{height:8px;background:var(--bg-tertiary);border-radius:var(--radius-full);overflow:hidden}.analytics-bar{height:100%;border-radius:var(--radius-full);position:relative;transition:width var(--transition-slow)}.analytics-bar-completed{position:absolute;top:0;left:0;height:100%;background:#ffffff4d;border-radius:var(--radius-full)}.analytics-empty{text-align:center;padding:var(--space-xl);color:var(--text-tertiary)}.task-queue-empty{text-align:center;padding:var(--space-2xl) var(--space-lg);color:var(--text-tertiary)}.task-queue-empty-icon{font-size:48px;margin-bottom:var(--space-md);opacity:.5}.week-display{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:var(--text-primary);min-width:200px;text-align:center}.drag-over{background:var(--bg-active)!important}.drop-target{background:#10b98126!important;box-shadow:inset 0 0 0 2px #10b9814d}.drop-invalid{background:#ef444426!important;box-shadow:inset 0 0 0 2px #ef44444d}.tab-badge{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;padding:0 5px;margin-left:6px;font-size:10px;font-weight:700;color:#fff;background:var(--accent-gradient);border-radius:var(--radius-full);box-shadow:0 0 8px #3b82f64d}.task-block.completing{animation:completeTask .6s ease forwards}@keyframes completeTask{0%{transform:scale(1);filter:brightness(1)}30%{transform:scale(1.05);filter:brightness(1.2)}to{transform:scale(1);filter:brightness(1);opacity:.5}}.completion-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#10b9814d;z-index:100;animation:fadeInOut .6s ease forwards}.completion-overlay svg{width:48px;height:48px;color:#fff;filter:drop-shadow(0 0 8px rgba(16,185,129,.8));animation:checkmarkPop .4s ease forwards}@keyframes fadeInOut{0%{opacity:0}30%{opacity:1}to{opacity:0}}@keyframes checkmarkPop{0%{transform:scale(0)}50%{transform:scale(1.2)}to{transform:scale(1)}}.day-column.today{background:linear-gradient(180deg,rgba(59,130,246,.05) 0%,transparent 50%)}.modal-overlay{position:fixed;inset:0;background:#0f172ad9;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:opacity .2s,backdrop-filter .2s}.modal-overlay.active{opacity:1;visibility:visible}.modal{background:var(--bg-secondary);border:1px solid var(--border-primary);border-radius:var(--radius-lg);width:100%;max-width:480px;max-height:90vh;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 25px 50px -12px #00000080;animation:modalSlideIn .25s ease-out}@keyframes modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-md) var(--space-lg);border-bottom:1px solid var(--border-primary);background:transparent}.modal-title{font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);color:var(--text-primary)}.modal-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--bg-elevated);border:1px solid var(--border-primary);border-radius:var(--radius-md);color:var(--text-secondary);cursor:pointer;transition:all var(--transition-fast)}.modal-close:hover{background:var(--accent-error);border-color:var(--accent-error);color:#fff}.modal-body{padding:var(--space-lg);overflow-y:auto}.modal-footer{display:flex;justify-content:flex-end;gap:var(--space-md);padding:var(--space-md) var(--space-lg);border-top:1px solid var(--border-primary);background:var(--bg-secondary)}.form-group{margin-bottom:var(--space-lg)}.form-label{display:block;font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.form-input,.form-textarea{width:100%;padding:12px 14px;background:var(--bg-primary);border:1px solid var(--border-primary);border-radius:var(--radius-md);color:var(--text-primary);font-size:var(--font-size-md);font-family:inherit;transition:all var(--transition-fast)}.form-input::placeholder,.form-textarea::placeholder{color:var(--text-muted)}.form-input:hover,.form-textarea:hover{border-color:var(--border-secondary)}.form-input:focus,.form-textarea:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #3b82f626,inset 0 1px 2px #0003;background:var(--bg-secondary)}.form-textarea{min-height:80px;resize:vertical;line-height:1.5}.form-select{width:100%;padding:10px 36px 10px 12px;background:var(--bg-primary);border:1px solid var(--border-primary);border-radius:var(--radius-md);color:var(--text-primary);font-size:var(--font-size-sm);font-family:inherit;cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236b6b80' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;transition:all var(--transition-fast)}.form-select:hover{border-color:var(--border-secondary);background-color:var(--bg-secondary)}.form-select:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #3b82f626}.form-select option{background:var(--bg-secondary);color:var(--text-primary);padding:8px}#scheduleInfo{background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);border:1px solid rgba(59,130,246,.2);border-radius:var(--radius-lg);padding:var(--space-md);margin-bottom:var(--space-lg)}.schedule-info-row{display:flex;align-items:center;gap:var(--space-md)}.schedule-info-label{font-size:var(--font-size-xs);color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}#scheduleDayDisplay,#scheduleTimeDisplay{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:var(--accent-secondary)}#scheduleMaxInfo{margin-left:auto;font-size:var(--font-size-xs);color:var(--text-tertiary);background:var(--bg-tertiary);padding:4px 8px;border-radius:var(--radius-full)}.dept-level{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-sm)}.dept-level-number{width:20px;height:20px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border-radius:var(--radius-full);font-size:11px;font-weight:var(--font-weight-bold);color:var(--text-tertiary)}.dept-level .form-select{flex:1}#hierarchyPreview{display:flex;flex-wrap:wrap;align-items:center;gap:6px;padding:var(--space-sm) var(--space-md);background:var(--bg-tertiary);border-radius:var(--radius-md);min-height:36px}.hierarchy-path-item{display:inline-flex;align-items:center;padding:4px 10px;background:var(--bg-elevated);border-radius:var(--radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-medium);color:var(--text-secondary)}.hierarchy-path-item:first-child{background:var(--task-color, var(--accent-primary));color:#fff;font-weight:var(--font-weight-semibold)}.hierarchy-path-separator{color:var(--text-muted);font-size:14px}.duration-selector{display:flex;gap:8px;margin-bottom:var(--space-sm)}.duration-option{flex:1;padding:10px 8px;background:var(--bg-tertiary);border:1px solid var(--border-primary);color:var(--text-secondary);cursor:pointer;text-align:center;border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);transition:all var(--transition-fast)}.duration-option:hover:not(.disabled){background:var(--bg-elevated);border-color:var(--border-secondary);color:var(--text-primary);transform:translateY(-1px)}.duration-option.selected{background:var(--accent-gradient);color:#fff;border-color:transparent;font-weight:var(--font-weight-semibold);box-shadow:0 4px 12px #3b82f64d}.duration-option.disabled{opacity:.4;cursor:not-allowed}#customDuration{display:none;align-items:center;gap:var(--space-sm);padding:var(--space-sm);background:var(--bg-tertiary);border-radius:var(--radius-md);margin-top:var(--space-sm)}#customDuration .form-input{width:80px;text-align:center}#customDuration span{font-size:var(--font-size-sm);color:var(--text-tertiary)}.modal-footer .btn{min-width:100px}.modal-footer .btn-primary{padding:10px 24px}.hierarchy-level{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-sm)}.hierarchy-level-indicator{width:22px;height:22px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));border-radius:var(--radius-full);font-size:11px;font-weight:700;color:#fff;flex-shrink:0}.hierarchy-level .form-select{flex:1}.schedule-preview{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-md);background:linear-gradient(135deg,#3b82f626,#8b5cf61a);border:1px solid rgba(59,130,246,.25);border-radius:var(--radius-lg)}.schedule-preview span{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:var(--accent-secondary)}.schedule-separator{color:var(--text-tertiary)!important;font-weight:400!important}.schedule-max-info{margin-left:auto;font-size:var(--font-size-xs)!important;color:var(--text-tertiary)!important;background:var(--bg-tertiary);padding:4px 10px;border-radius:var(--radius-full);font-weight:var(--font-weight-medium)!important}.hierarchy-path-preview{display:flex;flex-wrap:wrap;align-items:center;gap:6px;padding:var(--space-sm) var(--space-md);background:var(--bg-tertiary);border-radius:var(--radius-md);min-height:36px;margin-top:var(--space-sm)}.confirm-overlay{position:fixed;inset:0;background:#000000b3;backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:fadeIn .2s ease}.confirm-modal{background:var(--bg-elevated);border:1px solid var(--border-primary);border-radius:var(--radius-lg);padding:var(--space-xl);min-width:350px;max-width:500px;box-shadow:0 20px 60px #00000080;animation:scaleIn .2s ease}.confirm-content{display:flex;flex-direction:column;gap:var(--space-lg)}.confirm-message{font-size:var(--font-size-base);color:var(--text-primary);line-height:1.5;margin:0}.confirm-buttons{display:flex;gap:var(--space-sm);justify-content:flex-end}.confirm-btn{padding:var(--space-sm) var(--space-lg);border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);cursor:pointer;transition:all var(--transition-fast);border:none}.confirm-cancel{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-primary)}.confirm-cancel:hover{background:var(--bg-tertiary);border-color:var(--border-secondary)}.confirm-delete{background:var(--accent-error);color:#fff}.confirm-delete:hover{background:#dc2626;transform:translateY(-1px);box-shadow:0 4px 12px #ef44444d}.confirm-delete:focus{outline:2px solid var(--accent-error);outline-offset:2px}@keyframes scaleIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.dept-settings-modal{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;animation:fadeIn .2s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.dept-settings-overlay{position:absolute;inset:0;background:#000000b3;backdrop-filter:blur(8px)}.dept-settings-content{position:relative;width:92%;max-width:520px;max-height:85vh;background:linear-gradient(180deg,var(--bg-tertiary) 0%,var(--bg-secondary) 100%);border-radius:16px;border:1px solid rgba(255,255,255,.08);box-shadow:0 0 0 1px #0000004d,0 25px 60px -10px #0009,0 0 40px #6366f11a;display:flex;flex-direction:column;overflow:hidden;animation:slideUp .3s ease-out}.dept-settings-header{display:flex;align-items:center;justify-content:space-between;padding:18px 22px;background:linear-gradient(135deg,#6366f11f,#8b5cf614);border-bottom:1px solid rgba(255,255,255,.06)}.dept-settings-header h2{margin:0;font-size:16px;font-weight:600;color:var(--text-primary);display:flex;align-items:center;gap:10px;letter-spacing:-.01em}.dept-settings-header h2:before{content:"";width:8px;height:8px;background:linear-gradient(135deg,#6366f1,#8b5cf6);border-radius:50%;box-shadow:0 0 12px #6366f199}.dept-settings-close{width:30px;height:30px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:8px;color:var(--text-secondary);font-size:16px;cursor:pointer;transition:all .15s ease}.dept-settings-close:hover{background:#ef444426;border-color:#ef44444d;color:#ef4444}.dept-settings-body{flex:1;overflow-y:auto;padding:12px 16px 16px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.1) transparent}.dept-settings-body::-webkit-scrollbar{width:5px}.dept-settings-body::-webkit-scrollbar-track{background:transparent}.dept-settings-body::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:3px}.dept-section{margin-bottom:12px;background:#ffffff05;border-radius:12px;border:1px solid rgba(255,255,255,.06);overflow:hidden}.dept-parent{display:flex;align-items:center;gap:10px;padding:12px 14px;background:linear-gradient(135deg,#ffffff0f,#ffffff05);border-bottom:1px solid rgba(255,255,255,.04);transition:all .15s ease}.dept-parent:hover{background:linear-gradient(135deg,#ffffff17,#ffffff0a)}.dept-parent:hover .dept-actions{opacity:1}.dept-child-count{font-size:10px;font-weight:600;color:var(--text-tertiary);background:#ffffff14;padding:2px 6px;border-radius:10px;margin-left:-4px}.dept-children{padding:6px 10px 10px 32px;background:#00000026}.dept-child{position:relative}.dept-child-content{display:flex;align-items:center;gap:8px;padding:7px 10px;border-radius:8px;transition:all .15s ease}.dept-child-content:hover{background:#ffffff0a}.dept-child-content:hover .dept-actions{opacity:1}.dept-connector{width:10px;height:2px;background:#ffffff1f;border-radius:1px;margin-left:-12px}.dept-subchildren{margin-left:18px;padding-left:10px;border-left:1px solid rgba(255,255,255,.04)}.dept-subchild{display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:6px;transition:all .15s ease}.dept-subchild:hover{background:#ffffff08}.dept-subchild:hover .dept-actions{opacity:1}.dept-connector.deep{width:8px;background:#ffffff14;margin-left:-10px}.dept-color-picker{width:22px;height:22px;border:none;border-radius:6px;cursor:pointer;padding:0;background:transparent;transition:transform .15s ease;flex-shrink:0}.dept-color-picker:hover{transform:scale(1.1)}.dept-color-picker::-webkit-color-swatch-wrapper{padding:0}.dept-color-picker::-webkit-color-swatch{border:2px solid rgba(255,255,255,.2);border-radius:6px;box-shadow:0 2px 6px #0003}.dept-badge{display:inline-flex;align-items:center;justify-content:center;min-width:30px;height:20px;padding:0 6px;font-size:10px;font-weight:700;color:#fff;background:var(--accent-primary);border-radius:5px;text-transform:uppercase;letter-spacing:.3px;flex-shrink:0}.dept-badge.small{min-width:26px;height:18px;font-size:9px}.dept-badge.tiny{min-width:22px;height:16px;font-size:8px;padding:0 4px}.dept-name{flex:1;font-size:13px;font-weight:500;color:var(--text-primary);letter-spacing:-.01em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dept-child-content .dept-name,.dept-subchild .dept-name{font-size:12px;font-weight:400;color:var(--text-secondary)}.dept-actions{display:flex;gap:3px;opacity:0;transition:opacity .15s ease;flex-shrink:0}.dept-action-btn{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:transparent;border:1px solid rgba(255,255,255,.06);border-radius:5px;cursor:pointer;font-size:11px;color:var(--text-tertiary);transition:all .12s ease}.dept-action-btn:hover{background:#ffffff14;border-color:#ffffff1f;color:var(--text-primary)}.dept-action-btn.delete:hover{background:#ef44441f;border-color:#ef444440;color:#ef4444}.dept-action-btn.add:hover{background:#10b9811f;border-color:#10b98140;color:#10b981}.dept-settings-footer{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;border-top:1px solid rgba(255,255,255,.06);background:#00000026}.dept-settings-actions{display:flex;gap:8px}.dept-settings-footer .btn{padding:9px 16px;font-size:12px;font-weight:500;border-radius:7px;transition:all .15s ease}.dept-settings-footer .btn-secondary{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);color:var(--text-secondary)}.dept-settings-footer .btn-secondary:hover{background:#ffffff14;color:var(--text-primary)}.dept-settings-footer .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,.08);color:var(--text-tertiary)}.dept-settings-footer .btn-ghost:hover{background:#ffffff0a;color:var(--text-secondary)}.dept-settings-footer .btn-primary{background:linear-gradient(135deg,#6366f1,#8b5cf6);border:none;color:#fff;box-shadow:0 2px 8px #6366f140}.dept-settings-footer .btn-primary:hover{transform:translateY(-1px);box-shadow:0 4px 12px #6366f159}.dept-empty-state{text-align:center;padding:40px 20px;color:var(--text-tertiary)}.dept-empty-state p{margin:0;font-size:13px}
