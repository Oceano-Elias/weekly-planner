@import"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700;800&display=swap";*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,sans-serif}a{color:inherit;text-decoration:none}button{font:inherit;cursor:pointer;background:none;border:none}input,select,textarea{font:inherit}ul,ol{list-style:none}img{max-width:100%;display:block}:root{--dept-work: #6366f1;--dept-personal: #10b981;--dept-health: #f97316;--dept-learning: #8b5cf6;--dept-finance: #f43f5e;--dept-admin: #64748b;--dept-work-deep: #312e81;--dept-personal-deep: #064e3b;--dept-health-deep: #7c2d12;--dept-learning-deep: #2e1065;--dept-finance-deep: #4c0519;--dept-admin-deep: #1e293b;--bg-primary: #0f172a;--bg-secondary: #1e293b;--bg-tertiary: #334155;--bg-elevated: #475569;--bg-hover: rgba(255, 255, 255, .03);--bg-active: rgba(99, 102, 241, .1);--text-primary: #e2e8f0;--text-secondary: #94a3b8;--text-tertiary: #64748b;--text-muted: #475569;--accent-primary: #6366f1;--accent-secondary: #818cf8;--accent-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);--accent-success: #10b981;--accent-warning: #f59e0b;--accent-error: #ef4444;--border-primary: rgba(51, 65, 85, .6);--border-secondary: rgba(71, 85, 105, .5);--border-tertiary: rgba(51, 65, 85, .3);--border-accent: rgba(99, 102, 241, .4);--glass-bg: rgba(15, 23, 42, .7);--glass-border: rgba(255, 255, 255, .08);--glass-border-light: rgba(255, 255, 255, .2);--glass-blur: blur(24px) saturate(180%);--glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, .37);--shadow-sm: 0 1px 2px rgba(0, 0, 0, .15);--shadow-md: 0 4px 12px rgba(0, 0, 0, .2);--shadow-lg: 0 12px 24px rgba(0, 0, 0, .25);--shadow-glow: 0 0 12px rgba(99, 102, 241, .1);--shadow-task: 0 2px 8px rgba(0, 0, 0, .15);--shadow-premium: 0 20px 50px rgba(0, 0, 0, .3);--font-primary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;--font-display: "Outfit", "Inter", var(--font-primary);--font-mono: "JetBrains Mono", "Menlo", monospace;--font-size-xs: 11px;--font-size-sm: 13px;--font-size-md: 15px;--font-size-lg: 17px;--font-size-xl: 22px;--font-size-2xl: 32px;--font-weight-light: 300;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-semibold: 600;--font-weight-bold: 700;--header-height: 72px;--sidebar-width: 300px;--calendar-cell-height: 52px;--calendar-time-col: 68px;--space-xs: 4px;--space-sm: 10px;--space-md: 18px;--space-lg: 28px;--space-xl: 36px;--space-2xl: 56px;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--radius-2xl: 24px;--radius-full: 9999px;--transition-fast: .15s cubic-bezier(.4, 0, .2, 1);--transition-normal: .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: .4s cubic-bezier(.4, 0, .2, 1);--transition-spring: .5s cubic-bezier(.34, 1.56, .64, 1);--transition-bounce: .6s cubic-bezier(.68, -.6, .32, 1.6)}.update-notification{position:fixed;top:0;left:0;right:0;z-index:10000;background:linear-gradient(135deg,var(--primary-color) 0%,#2563eb 100%);color:#fff;padding:12px 20px;display:flex;align-items:center;justify-content:space-between;gap:16px;box-shadow:0 4px 12px #0000004d;transform:translateY(0);transition:transform .3s ease,opacity .3s ease}.update-notification.hidden{transform:translateY(-100%);opacity:0;pointer-events:none}.update-content{display:flex;align-items:center;gap:12px;font-size:14px;font-weight:500}.update-content svg{flex-shrink:0;animation:bounce 1s infinite}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-3px)}}.update-actions{display:flex;gap:8px;flex-shrink:0}.update-btn{padding:8px 16px;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s ease;border:none}.update-btn-primary{background:#fff;color:#1e40af}.update-btn-primary:hover{background:#ffffffe6;transform:scale(1.02)}.update-btn-secondary{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3)}.update-btn-secondary:hover{background:#ffffff4d}.update-notification:not(.hidden)~.app{margin-top:52px}@media (max-width: 600px){.update-notification{flex-direction:column;text-align:center;padding:16px}.update-actions{width:100%;justify-content:center}}*{box-sizing:border-box;margin:0;padding:0}.mesh-gradient{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;background-color:#020617;background-image:radial-gradient(at 0% 0%,hsla(250,100%,15%,.15) 0,transparent 50%),radial-gradient(at 50% 0%,hsla(220,100%,20%,.15) 0,transparent 50%),radial-gradient(at 100% 0%,hsla(340,100%,20%,.15) 0,transparent 50%),radial-gradient(at 0% 50%,hsla(220,100%,20%,.15) 0,transparent 50%),radial-gradient(at 100% 50%,hsla(250,100%,15%,.15) 0,transparent 50%),radial-gradient(at 0% 100%,hsla(340,100%,20%,.15) 0,transparent 50%),radial-gradient(at 50% 100%,hsla(220,100%,20%,.15) 0,transparent 50%),radial-gradient(at 100% 100%,hsla(250,100%,15%,.15) 0,transparent 50%);filter:blur(120px);opacity:.8;animation:mesh-rotate 120s linear infinite}@keyframes mesh-rotate{0%{transform:scale(1.2) rotate(0)}50%{transform:scale(1.5) rotate(180deg)}to{transform:scale(1.2) rotate(360deg)}}body{font-family:var(--font-primary);background-color:var(--bg-primary);color:var(--text-primary);height:100vh;display:flex;flex-direction:column;overflow:hidden;line-height:1.5;-webkit-font-smoothing:antialiased}.app{display:flex;flex-direction:column;height:100vh;overflow:hidden;background-color:transparent}header{height:var(--header-height);padding:0 var(--space-lg);display:flex;align-items:center;justify-content:space-between;background:var(--glass-bg);backdrop-filter:var(--glass-blur);-webkit-backdrop-filter:var(--glass-blur);border-bottom:1px solid var(--glass-border);box-shadow:var(--glass-shadow);z-index:30;flex-shrink:0;margin:12px;border-radius:var(--radius-xl);border:1px solid var(--glass-border-light)}.header-left{display:flex;align-items:center;gap:var(--space-md);white-space:nowrap}.header-title{font-family:var(--font-display);font-size:22px;font-weight:700;color:var(--text-primary);display:flex;align-items:center;gap:10px;letter-spacing:-.5px}.version-badge{font-size:10px;font-weight:600;color:var(--text-tertiary);background:var(--bg-secondary);padding:2px 6px;border-radius:var(--radius-full);border:1px solid var(--border-primary)}.header-nav{display:flex;align-items:center;gap:var(--space-sm)}.current-week-display{font-size:var(--font-size-md);font-weight:500;color:var(--text-primary);min-width:140px;text-align:center}.header-right{display:flex;align-items:center;gap:var(--space-sm)}.main-content{flex:1;display:flex;flex-direction:row;position:relative;overflow:hidden}.sidebar{width:var(--sidebar-width);background:var(--glass-bg);backdrop-filter:var(--glass-blur);-webkit-backdrop-filter:var(--glass-blur);border:1px solid var(--glass-border-light);border-radius:var(--radius-xl);display:flex;flex-direction:column;z-index:20;flex-shrink:0;transition:all var(--transition-spring);margin:0 0 12px 12px;overflow:hidden}.sidebar.collapsed{width:60px;min-width:60px;margin-right:0}.sidebar.collapsed .sidebar-inner{display:none}.sidebar.collapsed .sidebar-toggle svg{transform:rotate(180deg)}.sidebar-toggle-row{padding:var(--space-sm);display:flex;justify-content:flex-end;border-bottom:1px solid var(--border-primary);background-color:var(--bg-tertiary);min-height:40px;flex-shrink:0}.sidebar-inner{flex:1;display:flex;flex-direction:column;overflow:hidden;min-height:0}.sidebar-tabs{display:flex;border-bottom:1px solid var(--border-primary);background:var(--bg-secondary);flex-shrink:0}.sidebar-tab{flex:1;padding:10px;font-size:var(--font-size-sm);font-weight:500;color:var(--text-secondary);background:transparent;border:none;cursor:pointer;text-align:center;border-bottom:2px solid transparent}.sidebar-tab:hover{color:var(--text-primary);background-color:var(--bg-hover)}.sidebar-tab.active{color:var(--accent-primary);border-bottom-color:var(--accent-primary);background-color:#6366f114}.sidebar-search{padding:var(--space-sm);border-bottom:1px solid var(--border-primary);background-color:var(--bg-secondary);flex-shrink:0}.search-input-wrapper{position:relative;display:flex;align-items:center}.search-icon{position:absolute;left:12px;color:var(--text-tertiary);pointer-events:none}.search-input{width:100%;padding:10px 14px 10px 36px;background:#ffffff08;border:1px solid var(--glass-border);border-radius:var(--radius-full);color:var(--text-primary);font-size:var(--font-size-sm);transition:all var(--transition-normal)}.search-input:focus{outline:none;border-color:var(--accent-primary);background:#ffffff0f;box-shadow:0 0 15px #6366f133}.search-clear{position:absolute;right:8px;display:none;align-items:center;justify-content:center;width:20px;height:20px;padding:0;background:var(--bg-tertiary);border:none;border-radius:var(--radius-sm);color:var(--text-tertiary);cursor:pointer;transition:all var(--transition-fast)}.search-clear:hover{background:var(--accent-error);color:#fff}.search-input-wrapper:has(.search-input:not(:placeholder-shown)) .search-clear{display:flex}.task-queue-actions{display:flex;justify-content:space-between;padding:var(--space-sm);background-color:var(--bg-tertiary);border-bottom:1px solid var(--border-primary);flex-shrink:0}.btn-text{background:none;border:none;color:var(--text-secondary);font-size:11px;cursor:pointer;display:flex;align-items:center;gap:4px}.btn-text:hover{color:var(--text-primary)}.task-queue{padding:var(--space-sm);flex:1;overflow-y:auto}.task-queue-empty{text-align:center;padding:var(--space-2xl) var(--space-lg);color:var(--text-tertiary);border:2px dashed var(--border-secondary);margin:var(--space-md);border-radius:var(--radius-xl);background:linear-gradient(135deg,#6366f10d,#8b5cf60d);transition:all var(--transition-normal)}.task-queue-empty:hover{border-color:var(--accent-primary);background:linear-gradient(135deg,#6366f114,#8b5cf614);transform:scale(.98);cursor:pointer}.empty-state-illustration{width:160px;height:130px;margin:0 auto var(--space-md)}.empty-state-illustration svg{width:100%;height:100%}.empty-state-title{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:var(--text-secondary);margin:0 0 6px}.empty-state-subtitle{font-size:var(--font-size-xs);color:var(--text-muted);margin:0}.float-shape{animation:floatBob 4s ease-in-out infinite}.float-shape.s1{animation-delay:0s}.float-shape.s2{animation-delay:.5s}.float-shape.s3{animation-delay:1s}.float-shape.s4{animation-delay:1.5s}@keyframes floatBob{0%,to{transform:translateY(0)}50%{transform:translateY(-6px)}}.sparkle{animation:sparklePulse 2s ease-in-out infinite}@keyframes sparklePulse{0%,to{opacity:.8;transform:scale(1)}50%{opacity:1;transform:scale(1.2)}}.calendar-container{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0;animation:page-fade-in .3s ease-out;background:var(--glass-bg);backdrop-filter:var(--glass-blur);-webkit-backdrop-filter:var(--glass-blur);border:1px solid var(--glass-border-light);border-radius:var(--radius-xl);margin:0 12px 12px}@keyframes page-fade-in{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.calendar-header{display:grid;grid-template-columns:var(--calendar-time-col, 60px) repeat(7,1fr);background-color:var(--bg-tertiary);border-bottom:1px solid var(--border-primary);flex-shrink:0;position:sticky;top:0;z-index:20}.calendar-header-cell{padding:var(--space-sm);display:flex;flex-direction:column;align-items:center;justify-content:center;border-right:1px solid var(--border-tertiary)}.calendar-header-cell.day-header-clickable{cursor:pointer;transition:all var(--transition-spring);position:relative;border-radius:var(--radius-lg)}.calendar-header-cell.day-header-clickable:hover{background:#ffffff0d;transform:translateY(-2px)}.calendar-header-cell.day-header-clickable:hover .calendar-day-date{color:var(--accent-primary);text-shadow:0 0 10px rgba(99,102,241,.4)}.calendar-header-cell:first-child{background-color:var(--bg-secondary)}.calendar-header-cell:last-child{border-right:none}.calendar-day-name{font-size:var(--font-size-xs);font-weight:600;color:var(--text-secondary);text-transform:uppercase}.calendar-day-date{font-size:var(--font-size-lg);font-weight:600;color:var(--text-primary)}.calendar-day-date.today{background-color:var(--accent-primary);color:#fff;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.calendar-day-progress-container{width:100%;height:4px;background:var(--bg-primary);border-radius:var(--radius-full);margin:6px 0;overflow:hidden;position:relative;border:1px solid var(--border-tertiary)}.calendar-day-progress-bar{height:100%;background:linear-gradient(90deg,var(--accent-primary) 0%,#60a5fa 100%);box-shadow:0 0 10px #3b82f666;transition:width .4s cubic-bezier(.4,0,.2,1)}.day-view-progress{height:6px;margin-top:8px;width:200px}.calendar-day-goal{margin-top:4px;width:100%;padding:2px 4px;font-size:10px;background:var(--bg-primary);border:1px solid var(--border-tertiary);border-radius:2px;color:var(--text-secondary);text-align:center}.calendar-day-goal:focus{outline:none;border-color:var(--accent-primary);color:var(--text-primary)}.day-view-header-new{display:flex!important;flex-direction:row!important;align-items:center;justify-content:space-between;padding:var(--space-md) var(--space-lg)!important;gap:var(--space-lg);background:linear-gradient(180deg,var(--bg-tertiary) 0%,var(--bg-secondary) 100%);min-height:70px}.day-header-left{flex-shrink:0}.day-header-date{font-size:18px;font-weight:600;color:var(--text-primary)}.day-header-date.today{color:var(--accent-primary);text-shadow:0 0 20px rgba(59,130,246,.3)}.day-header-center{flex:1;max-width:400px;display:flex;justify-content:center}.day-header-goal{width:100%;padding:10px 16px;font-size:14px;font-weight:500;background:var(--bg-primary);border:2px solid var(--border-primary);border-radius:var(--radius-md);color:var(--text-primary);text-align:center;transition:all var(--transition-fast)}.day-header-goal::placeholder{color:var(--text-tertiary)}.day-header-goal:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #3b82f633,0 0 20px #3b82f666,0 0 40px #3b82f633;animation:goal-focus-pulse 2s ease-in-out infinite}@keyframes goal-focus-pulse{0%,to{box-shadow:0 0 0 3px #3b82f633,0 0 20px #3b82f666,0 0 40px #3b82f633}50%{box-shadow:0 0 0 4px #3b82f64d,0 0 30px #3b82f680,0 0 50px #3b82f64d}}.day-header-right{flex-shrink:0}.day-header-clock{font-size:32px;font-weight:700;color:var(--accent-primary);font-variant-numeric:tabular-nums;text-shadow:0 0 30px rgba(59,130,246,.4);letter-spacing:-1px}.calendar-grid{display:grid;grid-template-columns:var(--calendar-time-col, 60px) repeat(7,1fr);flex:1;overflow-y:auto;overflow-x:hidden;background-color:var(--bg-primary);position:relative}.calendar-cell{height:var(--calendar-cell-height);border-right:1px solid var(--border-tertiary);border-bottom:1px solid var(--border-tertiary);position:relative;transition:background-color var(--transition-fast);overflow:hidden}.calendar-cell:hover{background-color:#ffffff05;cursor:pointer}.calendar-cell.active{background-color:#6366f10d}.calendar-cell.drop-target{background-color:#3b82f626}.calendar-cell.drop-invalid{background-color:#ef444426}.calendar-cell.drag-over{outline:2px dashed var(--accent-primary);outline-offset:-2px}.drop-indicator{position:absolute;left:1px;right:1px;border-radius:var(--radius-sm);background:#10b9811f;box-shadow:inset 0 0 0 2px #10b98159;pointer-events:none;z-index:50;will-change:top,height}.drop-indicator.invalid{background:#ef44441f;box-shadow:inset 0 0 0 2px #ef444459}.time-slot-label{height:var(--calendar-cell-height);display:flex;align-items:flex-start;justify-content:center;padding-top:4px;font-size:var(--font-size-xs);color:var(--text-tertiary);background-color:var(--bg-secondary);border-bottom:1px solid var(--border-tertiary)}.current-time-line{position:absolute;left:0;right:0;height:2px;background:var(--accent-primary);z-index:10;pointer-events:none;box-shadow:0 0 10px var(--accent-primary)}.current-time-line:before{content:"";position:absolute;left:-4px;top:-4px;width:10px;height:10px;background:var(--accent-primary);border-radius:var(--radius-full);box-shadow:0 0 15px var(--accent-primary)}@keyframes laser-pulse{0%,to{transform:scale(1);opacity:1;box-shadow:0 0 15px #ff2d55}50%{transform:scale(1.3);opacity:.8;box-shadow:0 0 25px #ff2d55}}#currentTimeMarker:after{content:attr(data-time);position:absolute;left:-64px;top:-9px;font-size:10px;font-weight:700;color:#ff2d55;background:var(--bg-primary);padding:2px 6px;border-radius:var(--radius-sm);white-space:nowrap;box-shadow:0 0 10px #ff2d5533;border:1px solid rgba(255,45,85,.3)}@keyframes pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}.planner-container{flex:1;overflow-y:auto;overflow-x:hidden;padding:var(--space-md);display:flex;flex-direction:column}.planner-grid{display:grid;grid-template-columns:60px repeat(7,1fr);flex:1;background-color:var(--bg-secondary);border:1px solid var(--border-primary);overflow:hidden;min-height:0}.time-column{display:flex;flex-direction:column;background-color:var(--bg-secondary);border-right:1px solid var(--border-primary)}.time-header-spacer{height:50px;border-bottom:1px solid var(--border-primary);background-color:var(--bg-tertiary)}.time-slot-label{height:60px;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-xs);color:var(--text-secondary);border-bottom:1px solid var(--border-tertiary)}.day-column{display:flex;flex-direction:column;border-right:1px solid var(--border-tertiary);min-width:0;background-color:var(--bg-primary);position:relative}.day-column:last-child{border-right:none}.day-header{height:50px;padding:var(--space-xs);background-color:var(--bg-tertiary);border-bottom:1px solid var(--border-primary);display:flex;flex-direction:column;align-items:center;justify-content:center;position:sticky;top:0;z-index:10}.day-name{font-size:var(--font-size-xs);font-weight:600;color:var(--text-secondary);text-transform:uppercase}.day-date{font-size:var(--font-size-md);font-weight:600;color:var(--text-primary)}.day-header.today{background-color:#3b82f61a}.day-header.today .day-date{color:var(--accent-primary)}.btn{white-space:nowrap}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:10px 24px;height:44px;font-size:var(--font-size-md);font-weight:600;border-radius:var(--radius-full);border:1px solid var(--glass-border);cursor:pointer;transition:all var(--transition-spring);background:var(--glass-bg);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);color:var(--text-primary);box-shadow:var(--shadow-sm)}.btn:hover{background:#ffffff1a;border-color:var(--glass-border-light);transform:translateY(-2px) scale(1.02);box-shadow:var(--shadow-md)}.btn:active{transform:translateY(0) scale(.96)}.btn-primary{background:var(--accent-gradient);color:#fff;border:1px solid rgba(255,255,255,.3);font-weight:700;box-shadow:0 8px 20px #6366f166}.btn-primary:hover{box-shadow:0 12px 30px #6366f180;border-color:#ffffff80;filter:brightness(1.1)}.view-toggle{display:flex;background:#0f172a99;padding:6px;border-radius:var(--radius-full);border:1px solid var(--glass-border);box-shadow:inset 0 2px 4px #0003}.view-btn{padding:8px 20px;font-size:var(--font-size-sm);font-weight:600;color:var(--text-secondary);background:transparent;border:none;border-radius:var(--radius-full);cursor:pointer;transition:all var(--transition-normal)}.view-btn:hover{color:var(--text-primary);background:#ffffff0d}.view-btn.active{background:#fff;color:#0f172a!important;box-shadow:0 4px 12px #0003;transform:scale(1.05)}.sidebar-toggle{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:var(--bg-elevated);border:1px solid var(--border-primary);border-radius:var(--radius-sm);color:var(--text-secondary);cursor:pointer;transition:all var(--transition-normal)}.sidebar-toggle:hover{color:var(--text-primary);background:var(--bg-hover)}.nav-btn{display:inline-flex;align-items:center;justify-content:center;padding:6px 12px;height:32px;background:#ffffff0d;border:1px solid var(--glass-border);border-radius:var(--radius-md);color:var(--text-primary)!important;cursor:pointer;transition:all var(--transition-normal);gap:6px;font-size:11px;font-weight:600}.nav-btn svg{color:var(--text-primary);stroke:currentColor;transition:all var(--transition-normal)}.nav-btn:hover{background:#ffffff26;border-color:var(--glass-border-light);transform:translateY(-1px);color:#fff!important}.nav-btn:hover svg{color:var(--accent-secondary);transform:scale(1.1)}.btn-group{display:flex;align-items:center;gap:2px;padding:3px;background:#0f172a99;border:1px solid var(--glass-border);border-radius:var(--radius-lg);backdrop-filter:blur(8px)}.btn-group .nav-btn{background:transparent;border:none;height:30px;border-radius:var(--radius-md)}.btn-group .nav-btn:hover{background:#ffffff14;transform:none}.btn-label{font-size:11px;font-weight:600}.btn-label-sm{font-size:10px;font-weight:500;opacity:.8}.btn-glow{animation:btn-glow-pulse 3s ease-in-out infinite}@keyframes btn-glow-pulse{0%,to{box-shadow:var(--shadow-md),0 0 20px #3b82f633}50%{box-shadow:var(--shadow-lg),0 0 30px #3b82f666}}.dropdown{position:relative}.dropdown-toggle{display:flex;align-items:center;gap:4px}.dropdown-toggle[aria-expanded=true]{background:#ffffff26}.dropdown-menu{position:absolute;top:calc(100% + 8px);right:0;min-width:180px;background:#0f172af2;backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid var(--glass-border);border-radius:var(--radius-lg);box-shadow:var(--shadow-xl),0 0 40px #0000004d;padding:6px;opacity:0;visibility:hidden;transform:translateY(-8px) scale(.95);transition:all var(--transition-normal);z-index:1000}.dropdown.open .dropdown-menu,.dropdown-menu.active{opacity:1;visibility:visible;transform:translateY(0) scale(1)}.dropdown-item{display:flex;align-items:center;gap:10px;width:100%;padding:10px 12px;background:transparent;border:none;border-radius:var(--radius-md);color:var(--text-secondary);font-size:13px;font-weight:500;cursor:pointer;transition:all var(--transition-fast);text-align:left}.dropdown-item:hover{background:#ffffff14;color:var(--text-primary)}.dropdown-item:hover svg{color:var(--accent-primary)}.dropdown-item svg{flex-shrink:0;color:var(--text-tertiary);transition:color var(--transition-fast)}.dropdown-divider{height:1px;background:var(--border-primary);margin:6px 0}.task-block{display:flex;flex-direction:column;padding:10px 12px;border-left:4px solid var(--task-color, var(--accent-primary));box-shadow:inset 0 1px 1px #ffffff1a,var(--shadow-task);cursor:grab;transition:all var(--transition-spring);color:var(--text-primary)}.task-block:hover{border-color:var(--glass-border-light);transform:translateY(-4px) scale(1.02);box-shadow:var(--shadow-lg),0 0 25px color-mix(in srgb,var(--task-color) 35%,transparent);z-index:10}.task-block.day-view{padding:16px 12px;margin:4px 16px;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);background:linear-gradient(to bottom,color-mix(in srgb,var(--task-color) 65%,var(--bg-secondary)),color-mix(in srgb,var(--task-color) 35%,var(--bg-primary)));border-radius:var(--radius-lg);border:1px solid color-mix(in srgb,var(--task-color) 30%,rgba(255,255,255,.1));border-top:1px solid color-mix(in srgb,var(--task-color) 50%,rgba(255,255,255,.4));border-left:4px solid var(--task-color);box-shadow:0 4px 12px color-mix(in srgb,var(--task-color) 15%,rgba(0,0,0,.1));min-height:100%}.view-day .calendar-task{position:relative!important;height:auto!important;min-height:60px;margin-bottom:var(--space-md);top:0!important;left:0!important;right:0!important}.view-day .task-block{height:auto!important}.view-day .day-column{display:flex;flex-direction:column;padding-top:var(--space-md);overflow-y:auto}.task-block.day-view .task-title{font-size:16px;font-weight:var(--font-weight-semibold);margin-bottom:var(--space-xs)}.task-block.day-view .task-duration{font-size:12px;font-weight:var(--font-weight-bold);background:#ffffff1a;padding:2px 8px;border-radius:var(--radius-sm);color:#fff}.task-block:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,var(--task-color) 0%,transparent 80%);opacity:.25;pointer-events:none;z-index:0;transition:opacity var(--transition-normal)}.calendar-task .task-block{box-shadow:var(--shadow-task);transition:all .25s cubic-bezier(.4,0,.2,1)}.task-block:hover{border-color:var(--task-color);transform:translateY(-2px) scale(1.01);box-shadow:var(--shadow-md),0 0 20px color-mix(in srgb,var(--task-color) 25%,transparent)}.task-block:hover:before{opacity:.15}.task-block:active{transform:translateY(0) scale(.99);box-shadow:var(--shadow-sm)}.task-block.completed{opacity:.5;background:var(--bg-secondary)}.task-block.completed:before{display:none}.task-block.completed .task-title{text-decoration:line-through;color:var(--text-tertiary)}.task-block.dragging{opacity:.95;cursor:grabbing;transform:scale(1.03) rotate(1deg);box-shadow:0 20px 40px #0006,0 0 30px color-mix(in srgb,var(--task-color) 40%,transparent);overflow:visible;z-index:1000;filter:brightness(1.05);border:2px solid var(--task-color)}.task-header,.task-title,.task-hierarchy,.task-duration,.task-top-dept{position:relative;z-index:1}.task-header-row{display:flex;align-items:center;justify-content:space-between;gap:8px;width:100%;overflow:hidden}.task-header-left{display:flex;align-items:center;gap:6px;flex:1;min-width:0;overflow:hidden}.task-header-left .task-title{font-size:11px;font-weight:var(--font-weight-semibold);color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.task-step-progress{position:relative;display:inline-flex;align-items:center;justify-content:center;text-align:center;font-size:9px;font-weight:var(--font-weight-bold);white-space:nowrap;overflow:hidden;padding:2px 6px;min-width:40px;background:#00000040;border-radius:var(--radius-full);flex-shrink:0}.task-step-progress .step-fill{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,var(--task-color, var(--accent-primary)),color-mix(in srgb,var(--task-color, var(--accent-primary)) 70%,white));border-radius:var(--radius-full);transition:width .4s cubic-bezier(.16,1,.3,1);box-shadow:0 0 6px var(--task-color, var(--accent-primary))}.task-step-progress .step-text{position:relative;z-index:1;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5)}.task-step-progress.complete{background:#10b9814d;animation:celebration-pulse 2s ease-in-out infinite}.task-step-progress.complete .step-fill{background:linear-gradient(90deg,#10b981,#34d399);box-shadow:0 0 12px #10b981cc,0 0 24px #10b98166}.task-step-progress.complete .step-text{font-weight:var(--font-weight-bold);letter-spacing:.5px}@keyframes celebration-pulse{0%,to{box-shadow:0 0 #10b98100}50%{box-shadow:0 0 8px 2px #10b98166}}.task-block.day-view .task-step-progress{flex:0 1 auto;max-width:600px;width:100%;min-width:100px;height:28px;font-size:14px;font-weight:var(--font-weight-bold);padding:0 16px;border-radius:var(--radius-full);background:#00000059;align-self:center;margin:0 auto}.task-block.day-view .task-step-progress .step-text{font-size:14px;letter-spacing:.5px}.task-header-row .task-duration{flex-shrink:0;font-size:10px;font-weight:var(--font-weight-bold);color:var(--text-secondary);background:#ffffff26;padding:2px 6px;border-radius:var(--radius-sm);transition:opacity var(--transition-fast)}.task-hierarchy-row{font-size:12px;color:color-mix(in srgb,var(--task-color) 70%,white);margin-top:10px;padding-top:10px;border-top:1px solid rgba(255,255,255,.1);font-weight:var(--font-weight-medium);letter-spacing:.3px}.task-progress-row{margin-top:8px;padding-top:8px;border-top:1px solid rgba(255,255,255,.1)}.task-progress-row.compact{margin-top:4px;padding-top:4px;border-top:none}.task-step-progress.full-width{display:flex;width:100%;max-width:none;height:18px;font-size:10px;padding:0 8px;border-radius:var(--radius-sm);background:#00000059}.task-block.day-view .task-header-left{flex:1;min-width:0}.task-block.day-view .task-header-left .task-title{font-size:16px;font-weight:var(--font-weight-bold)}.task-block.day-view .task-header-row{margin-bottom:var(--space-md);gap:var(--space-md);display:flex;align-items:center;justify-content:space-between}.task-block.day-view .task-duration{flex:1;display:flex;justify-content:flex-end;background:transparent;padding:0}.task-block.day-view .task-duration span{font-size:13px;padding:6px 12px;background:#ffffff26;font-weight:var(--font-weight-bold);border-radius:var(--radius-sm)}.task-block.layout-compact{padding:6px 12px}.task-block.layout-standard{padding:10px 12px}.task-block.layout-full{padding:16px 12px}.task-header{display:flex;align-items:center;gap:var(--space-xs);margin-bottom:4px}.task-dept-badge{display:inline-flex;align-items:center;justify-content:center;min-width:24px;height:18px;padding:0 6px;font-size:10px;font-weight:var(--font-weight-bold);color:#fff;background:var(--task-color, var(--accent-primary));border-radius:var(--radius-full);text-transform:uppercase;letter-spacing:.5px}.task-top-dept{font-size:11px;font-weight:var(--font-weight-semibold);color:var(--task-color);text-transform:uppercase;letter-spacing:.5px}.task-duration{font-size:11px;color:var(--text-tertiary);margin-left:auto}.task-title{font-size:var(--font-size-sm);color:var(--text-primary);font-weight:var(--font-weight-medium);line-height:1.4}.task-hierarchy{font-size:11px;color:color-mix(in srgb,var(--task-color) 50%,white);opacity:.9;margin-top:2px;font-weight:var(--font-weight-medium);text-shadow:0 1px 2px rgba(0,0,0,.2)}.task-goal{font-size:13px;font-weight:var(--font-weight-semibold);color:#fffffff2;margin:4px 0 6px;line-height:1.3}.task-notes{margin-top:var(--space-md);padding-top:var(--space-sm);border-top:1px solid rgba(255,255,255,.1)}.notes-summary{display:flex;align-items:center;gap:12px}.notes-count{font-size:12px;font-weight:var(--font-weight-semibold);color:#ffffffb3;white-space:nowrap;flex-shrink:0}.notes-progress-bar{flex:1;height:6px;background:#ffffff1a;border-radius:var(--radius-full);overflow:hidden;min-width:100px}.notes-progress-fill{height:100%;background:linear-gradient(90deg,var(--task-color),color-mix(in srgb,var(--task-color) 70%,white));box-shadow:0 0 10px var(--task-color);transition:width .4s cubic-bezier(.16,1,.3,1)}.task-delete{position:absolute;top:4px;right:4px;width:20px;height:20px;display:none;align-items:center;justify-content:center;background:#000000b3;backdrop-filter:blur(4px);border-radius:var(--radius-full);color:#fff;cursor:pointer;border:none;z-index:100;pointer-events:all;transition:all var(--transition-fast);font-size:12px}.task-block:hover .task-delete{display:flex}.task-block:hover .task-duration{opacity:0;pointer-events:none}.task-delete:hover{background-color:var(--accent-error);color:#fff;transform:scale(1.1)}.calendar-task{position:absolute;left:1px;right:1px;z-index:10;border-radius:var(--radius-sm);overflow:visible;padding-bottom:1px}.calendar-task .task-block{height:100%;border-radius:var(--radius-sm)}.calendar-task.compact .task-block{padding:6px 12px}.calendar-task.compact .task-header-row{display:flex;align-items:center;width:100%;gap:8px;justify-content:space-between}.calendar-task.compact .task-header-left{display:flex;align-items:center;gap:6px;flex:1;min-width:0;overflow:hidden}.calendar-task.compact .task-header{margin-bottom:0;flex-shrink:0}.calendar-task.compact .task-dept-badge{height:16px;min-width:20px;font-size:9px;padding:0 4px;flex-shrink:0}.calendar-task.compact .task-title{font-size:11px;line-height:1.2;flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.calendar-task.compact .task-duration{font-size:9px;flex-shrink:0;padding:2px 6px}.calendar-task.compact .task-hierarchy{display:none}.calendar-task.compact .task-top-dept{font-size:9px}.task-progress-overlay{position:absolute;top:0;left:0;right:0;height:0%;background:linear-gradient(180deg,#1e293b80,#1e293b59);pointer-events:none;transition:height .8s cubic-bezier(.4,0,.2,1);z-index:2;border-radius:inherit}.task-progress-overlay.in-progress{border-bottom:1px solid rgba(255,255,255,.15)}.task-progress-overlay.expired{height:100%!important;opacity:0}.calendar-task.time-passed .task-block{filter:saturate(.3) brightness(.55)!important;border:1px solid rgba(255,255,255,.2)!important;border-left:4px solid color-mix(in srgb,var(--task-color) 50%,transparent)!important;box-shadow:inset 0 1px #ffffff40,inset 0 2px 4px #ffffff1a;position:relative}.calendar-task.time-passed .task-block:after{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,#ffffff80,#ffffff4d,#ffffff1a);pointer-events:none;z-index:3;border-radius:inherit}.calendar-task.time-passed .task-block:before{content:"";position:absolute;inset:0;background:linear-gradient(180deg,#0f172a59,#0f172a8c);pointer-events:none;z-index:1;border-radius:inherit}.calendar-task.time-passed .task-block .task-header,.calendar-task.time-passed .task-block .task-title,.calendar-task.time-passed .task-block .task-duration,.calendar-task.time-passed .task-block .task-hierarchy-row,.calendar-task.time-passed .task-block .dept-badge{position:relative;z-index:2}.calendar-task.time-passed .task-block .task-title{color:var(--text-tertiary)!important}.calendar-task.time-passed .task-block .task-duration{opacity:.6!important}.calendar-task.time-passed .task-block .task-hierarchy-row{color:var(--text-tertiary)}.calendar-task .task-block.completed{background:var(--bg-secondary)!important;opacity:.45;filter:grayscale(30%)}.calendar-task .task-block.completed:before{display:none}.task-queue .task-block{background:transparent;border:1px solid var(--border-tertiary);border-left:4px solid color-mix(in srgb,var(--task-color) 50%,transparent);border-top:none;color:var(--text-tertiary);padding:10px 12px}.task-queue .task-block .task-title{color:var(--text-secondary)}.task-queue .task-block .task-duration{color:var(--text-muted);background:transparent}.task-queue .task-block:hover{background:color-mix(in srgb,var(--task-color) 15%,transparent);border-color:color-mix(in srgb,var(--task-color) 30%,transparent);border-left:4px solid var(--task-color)}.task-queue .task-block:hover .task-title{color:var(--text-primary)}.drag-ghost{position:fixed!important;pointer-events:none!important;z-index:2147483647!important;margin:0!important;transition:none!important;animation:none!important;will-change:transform;opacity:.9!important;display:block!important;visibility:visible!important;box-shadow:0 20px 50px #00000080!important;border:2px solid var(--task-color)!important;background:var(--bg-secondary)!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important;overflow:hidden}body.dnd-active,body.dnd-active *{user-select:none!important;-webkit-user-select:none!important}.focus-overlay{position:fixed;inset:0;z-index:2000;background:linear-gradient(135deg,#0a0f1ef2,#0f172aeb,#141e32f2);backdrop-filter:blur(32px) saturate(150%);-webkit-backdrop-filter:blur(32px) saturate(150%);display:flex;align-items:center;justify-content:center;animation:focusFadeIn .4s cubic-bezier(.16,1,.3,1)}@keyframes focusFadeIn{0%{opacity:0;backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(32px) saturate(150%)}}.focus-card{width:95%;max-width:800px;height:90vh;border-radius:48px;padding:clamp(18px,4vh,40px);box-shadow:0 80px 150px -40px #000000e6;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;animation:cardFloat .7s cubic-bezier(.16,1,.3,1);overflow:hidden}.focus-engine-side{width:100%;display:flex;flex-direction:column;align-items:center;position:relative}.focus-overlay.phase-execution .ring-step-title{text-shadow:0 0 26px color-mix(in srgb,var(--task-color) 18%,transparent)}.focus-header-topleft{position:absolute;top:24px;left:24px;z-index:5}.focus-header{margin-bottom:14px;text-align:center}.focus-title{display:inline-block;padding:8px 18px;background:#ffffff0d;border:1px solid rgba(255,255,255,.12);border-radius:100px;font-size:clamp(13px,1.7vh,16px);font-weight:700;letter-spacing:.4px;text-transform:none;color:#ffffffd9;box-shadow:0 10px 30px #00000040}.execution-rings-container{position:relative;width:min(440px,46vh);height:min(440px,46vh);display:flex;align-items:center;justify-content:center;margin:clamp(4px,.8vh,8px) 0;filter:drop-shadow(0 0 40px color-mix(in srgb,var(--task-color) 15%,transparent))}.execution-ring-svg{overflow:visible}.outer-ring-bg{fill:none;stroke:#ffffff0a;stroke-width:4}.outer-ring-fill{fill:none;stroke-width:4;stroke-linecap:round;transition:stroke-dashoffset .8s cubic-bezier(.4,0,.2,1);filter:drop-shadow(0 0 8px var(--task-color))}.inner-ring-bg{fill:none;stroke:#ffffff0f;stroke-width:8;filter:blur(.5px)}.inner-ring-fill{fill:none;stroke-width:8;stroke-linecap:round;transition:stroke-dashoffset .5s linear;filter:drop-shadow(0 0 15px white) brightness(1.2);animation:innerPulse 4s infinite ease-in-out}@keyframes innerPulse{0%,to{opacity:.8;filter:drop-shadow(0 0 12px white) brightness(1.1)}50%{opacity:1;filter:drop-shadow(0 0 20px white) brightness(1.3)}}.ring-center{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:0 16%;z-index:2;pointer-events:auto}.ring-step-title{font-size:clamp(14px,2.5vh,24px);font-weight:700;color:#fffffff5;line-height:1.2;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-width:100%;word-wrap:break-word;text-align:center}.ring-time{margin-top:12px;font-family:JetBrains Mono,monospace;font-size:clamp(24px,3.5vh,32px);font-weight:700;color:#ffffffd9;opacity:1;letter-spacing:2px;transform:translateZ(0);transition:transform .35s cubic-bezier(.16,1,.3,1),opacity .35s ease,color .35s ease,text-shadow .35s ease}.ring-time:hover{color:#fffffff2;transform:translateZ(0) scale(1.05)}.ring-time.running{color:#fffffff2;animation:timerPulse 2s ease-in-out infinite}@keyframes timerPulse{0%,to{text-shadow:0 0 10px rgba(255,255,255,.3)}50%{text-shadow:0 0 20px rgba(255,255,255,.6),0 0 40px var(--task-color)}}.ring-media-controls{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:14px;pointer-events:auto}.ring-media-btn{width:48px;height:48px;border-radius:16px;display:flex;align-items:center;justify-content:center;background:#ffffff0a;border:1px solid rgba(255,255,255,.09);color:#ffffffd6;cursor:pointer;transition:transform .2s cubic-bezier(.16,1,.3,1),background .2s ease,border-color .2s ease,color .2s ease,opacity .2s ease;opacity:.92}.ring-media-btn svg{width:22px;height:22px}.ring-media-btn:hover{transform:translateY(-1px);background:#ffffff14;border-color:#ffffff29;color:#fffffff0;opacity:1}.ring-media-primary{color:color-mix(in srgb,var(--task-color) 70%,rgba(255,255,255,.94))}.ring-media-primary.running{color:#fffffff0}.ring-media-stop{color:#ffffffb8}.step-action-controls{display:flex;align-items:center;justify-content:center;gap:10px;margin-top:16px;pointer-events:auto}.step-action-btn{display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:12px;font-size:12px;font-weight:600;background:#ffffff0f;border:1px solid rgba(255,255,255,.1);color:#ffffffbf;cursor:pointer;transition:all .25s cubic-bezier(.16,1,.3,1)}.step-action-btn:hover{transform:translateY(-1px);background:#ffffff1a;border-color:#fff3;color:#fffffff2}.step-action-btn.skip-btn:hover{background:#fbbf2426;border-color:#fbbf244d;color:#fbbf24}.step-action-btn.complete-btn:hover{background:#10b98126;border-color:#10b9814d;color:#10b981}.step-action-btn svg{flex-shrink:0}@media (max-width: 1000px){.focus-card{flex-direction:column;height:92vh}.focus-engine-side{padding:30px}.execution-rings-container{width:min(280px,42vh);height:min(280px,42vh)}.focus-content-side{display:none}}.focus-card:before{content:"";position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.2' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");opacity:.02;pointer-events:none;border-radius:24px}.focus-card:after{content:"";position:absolute;width:200px;height:200px;background:radial-gradient(circle,color-mix(in srgb,var(--task-color) 20%,transparent) 0%,transparent 70%);bottom:-80px;left:-60px;pointer-events:none;filter:blur(50px);opacity:.4}@keyframes cardFloat{0%{opacity:0;transform:scale(.92) translateY(30px)}to{opacity:1;transform:scale(1) translateY(0)}}.focus-close{position:absolute;top:24px;right:24px;background:#ffffff1a;border:1px solid rgba(255,255,255,.18);color:#fffc;cursor:pointer;width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.16,1,.3,1);z-index:10}.focus-close:hover{background:#ef444433;border-color:#ef444466;color:#ef4444;transform:rotate(90deg) scale(1.1)}.focus-header{margin-bottom:14px;text-align:center;position:relative;z-index:1}.focus-title{font-family:var(--font-display);font-size:12px;text-transform:none;letter-spacing:.4px;color:#ffffffd9;font-weight:650;display:inline-block;padding:6px 16px;background:#ffffff0d;border-radius:100px;border:1px solid rgba(255,255,255,.12);box-shadow:0 10px 30px #00000040}.focus-goal{font-size:15px;font-weight:500;color:var(--text-tertiary);letter-spacing:.5px;line-height:1.5;margin:0;opacity:.7;text-transform:uppercase}.focus-section{position:relative;z-index:1;overflow-y:auto;flex:1;padding-right:8px;margin-right:-8px}.focus-section::-webkit-scrollbar{width:4px}.focus-section::-webkit-scrollbar-track{background:transparent}.focus-section::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:10px}.focus-section::-webkit-scrollbar-thumb:hover{background:#fff3}.section-label{font-size:11px;text-transform:uppercase;letter-spacing:3px;color:var(--task-color);margin-bottom:25px;font-weight:700;opacity:.8}.quest-stack-container{position:relative;width:100%;height:320px;perspective:1200px;overflow:visible}.quest-carousel{position:relative;width:100%;max-width:480px;height:100%;margin:0 auto;perspective:1200px;transform-style:preserve-3d}.quest-carousel.no-initial-transition .carousel-card{transition:none!important}:root{--carousel-roll-duration: .42s;--carousel-roll-ease: cubic-bezier(.4, 0, .2, 1)}.carousel-card{position:absolute;left:50%;width:calc(100% - 32px);max-width:420px;border-radius:20px;transition:transform .42s var(--carousel-roll-ease),opacity .42s var(--carousel-roll-ease);transform-origin:center center;transform-style:preserve-3d;backface-visibility:hidden;will-change:transform,opacity;display:flex;flex-direction:column;align-items:stretch;gap:14px;padding:20px 24px}.carousel-complete-btn{position:absolute;top:0;left:0;transform:translate3d(var(--complete-x, 0px),var(--complete-y, 0px),0) translate(var(--complete-tx, -100%),var(--complete-ty, -100%));z-index:40;transition:transform .18s ease,opacity .18s ease}.carousel-complete-btn:hover,.carousel-complete-btn:active,.carousel-complete-btn:focus,.carousel-complete-btn:focus-visible{transform:translate3d(var(--complete-x, 0px),var(--complete-y, 0px),0) translate(var(--complete-tx, -100%),var(--complete-ty, -100%))}.carousel-complete-btn.hidden{opacity:0;pointer-events:none}.quest-carousel.carousel-rolling+.carousel-complete-btn{opacity:0;pointer-events:none}.carousel-nav{position:absolute;top:0;left:0;transform:translate3d(var(--nav-x, 0px),var(--nav-y, 0px),0) translate(var(--nav-tx, 0%),var(--nav-ty, -50%));z-index:41;display:flex;flex-direction:column;gap:8px;transition:transform .18s ease,opacity .18s ease}.carousel-nav.hidden{opacity:0;pointer-events:none}.quest-carousel.carousel-rolling~.carousel-nav{opacity:0;pointer-events:none}.carousel-nav-btn{width:36px;height:36px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:#ffffff0f;border:1px solid rgba(255,255,255,.12);color:#ffffffd1;cursor:pointer;transition:transform .2s cubic-bezier(.16,1,.3,1),background .2s ease,border-color .2s ease,color .2s ease;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.carousel-nav-btn:hover{transform:translateY(-1px);background:#ffffff1a;border-color:#ffffff2e;color:#fffffff0}.carousel-nav-btn:active{transform:translateY(0)}.carousel-card.active{top:50%;transform:translate(-50%) translateY(-50%) scale(1) rotateX(0);z-index:20;background:linear-gradient(165deg,#ffffff24,#ffffff12);border:2px solid var(--task-color);box-shadow:0 20px 60px #0006,0 0 0 1px color-mix(in srgb,var(--task-color) 70%,transparent),0 0 50px color-mix(in srgb,var(--task-color) 25%,transparent),inset 0 1px #ffffff26;backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px)}.carousel-header{display:flex;align-items:center;gap:12px}.carousel-icon{width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-size:14px;border-radius:50%;font-weight:700;flex-shrink:0}.carousel-icon.active{background:linear-gradient(135deg,var(--task-color),color-mix(in srgb,var(--task-color) 70%,white));color:#fff;box-shadow:0 4px 16px color-mix(in srgb,var(--task-color) 50%,transparent);animation:iconPulse 2s ease-in-out infinite}.carousel-step{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:2px;color:#fff9;flex-shrink:0}.carousel-badge{margin-left:auto;font-size:9px;font-weight:800;padding:5px 12px;border-radius:100px;background:linear-gradient(135deg,var(--task-color),color-mix(in srgb,var(--task-color) 80%,white));color:#fff;letter-spacing:1.5px;box-shadow:0 4px 16px color-mix(in srgb,var(--task-color) 40%,transparent);text-shadow:0 1px 2px rgba(0,0,0,.2)}.carousel-text-full{margin-top:16px;font-size:18px;font-weight:600;color:#fff;line-height:1.6;letter-spacing:.2px}.carousel-text{flex:1;font-size:14px;font-weight:500;color:#ffffffbf;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.carousel-card.active .carousel-text{margin-top:14px;font-size:18px;font-weight:600;color:#fffffff5;white-space:normal;overflow:hidden;text-overflow:unset;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;line-height:1.5}.carousel-card.upcoming{top:50%;--card-offset: calc(-110px - calc(var(--depth, 1) - 1) * 50px);--card-scale: calc(.88 - calc(var(--depth, 1) - 1) * .04);--card-opacity: calc(.7 - calc(var(--depth, 1) - 1) * .2);transform:translate(-50%) translateY(calc(-50% + var(--card-offset))) scale(var(--card-scale)) rotateX(15deg);z-index:calc(10 - var(--depth, 1));opacity:var(--card-opacity);background:linear-gradient(175deg,color-mix(in srgb,var(--task-color) 35%,rgba(30,40,60,.95)),color-mix(in srgb,var(--task-color) 25%,rgba(25,35,55,.92)),color-mix(in srgb,var(--task-color) 15%,rgba(20,30,50,.9)));border:1.5px solid color-mix(in srgb,var(--task-color) 40%,rgba(255,255,255,.25));border-bottom:3px solid color-mix(in srgb,var(--task-color) 60%,rgba(255,255,255,.6));backdrop-filter:blur(20px) saturate(130%);-webkit-backdrop-filter:blur(20px) saturate(130%);pointer-events:auto;box-shadow:0 -10px 40px #00000059,0 -2px #fff6 inset,0 0 0 1px #fff3}.carousel-icon.upcoming{color:color-mix(in srgb,var(--task-color) 70%,white);font-size:12px;background:#ffffff1f;border:1px solid rgba(255,255,255,.15)}.carousel-card.behind{top:50%;transform:translate(-50%) translateY(calc(-50% - 185px)) scale(.82) rotateX(25deg);z-index:6;opacity:0;background:linear-gradient(175deg,color-mix(in srgb,var(--task-color) 22%,rgba(20,28,44,.92)),color-mix(in srgb,var(--task-color) 14%,rgba(18,24,38,.9)));border:1px solid color-mix(in srgb,var(--task-color) 28%,rgba(255,255,255,.18));backdrop-filter:blur(18px) saturate(120%);-webkit-backdrop-filter:blur(18px) saturate(120%);pointer-events:none;box-shadow:0 -14px 46px #00000057,0 -1px #ffffff2e inset}.carousel-card.below{top:50%;transform:translate(-50%) translateY(calc(-50% + 220px)) scale(.82) rotateX(-42deg);z-index:4;opacity:0;background:linear-gradient(175deg,color-mix(in srgb,var(--task-color) 20%,transparent),color-mix(in srgb,var(--task-color) 10%,transparent));border:1px solid color-mix(in srgb,var(--task-color) 40%,transparent);border-top:2px solid color-mix(in srgb,var(--task-color) 50%,transparent);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);pointer-events:none;box-shadow:0 15px 40px #0000004d,0 2px color-mix(in srgb,var(--task-color) 20%,transparent) inset}.carousel-card.done{top:50%;--card-offset: calc(110px + calc(var(--depth, 1) - 1) * 45px);--card-scale: calc(.88 - calc(var(--depth, 1) - 1) * .05);--card-opacity: calc(.5 - calc(var(--depth, 1) - 1) * .15);transform:translate(-50%) translateY(calc(-50% + var(--card-offset))) scale(var(--card-scale)) rotateX(-25deg);z-index:calc(5 - var(--depth, 1));opacity:var(--card-opacity);background:linear-gradient(175deg,color-mix(in srgb,var(--task-color) 20%,transparent),color-mix(in srgb,var(--task-color) 10%,transparent));border:1px solid color-mix(in srgb,var(--task-color) 40%,transparent);border-top:2px solid color-mix(in srgb,var(--task-color) 50%,transparent);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);pointer-events:auto;box-shadow:0 15px 40px #0000004d,0 2px color-mix(in srgb,var(--task-color) 20%,transparent) inset}.carousel-card.empty{opacity:0!important;pointer-events:none!important}.carousel-icon.done{color:var(--task-color);font-size:14px;background:color-mix(in srgb,var(--task-color) 20%,transparent);border:1px solid color-mix(in srgb,var(--task-color) 35%,transparent)}.carousel-card.done .carousel-text{text-decoration:line-through;color:#fff6}.carousel-card.upcoming[style*="--depth: 2"],.carousel-card.upcoming[style*="--depth: 3"],.carousel-card.upcoming[style*="--depth: 4"],.carousel-card.upcoming[style*="--depth: 5"],.carousel-card.done[style*="--depth: 2"],.carousel-card.done[style*="--depth: 3"],.carousel-card.done[style*="--depth: 4"],.carousel-card.done[style*="--depth: 5"]{opacity:0;pointer-events:none}.carousel-card.sliding-out{animation:rollDoneOut var(--carousel-roll-duration) var(--carousel-roll-ease) forwards;transition:none!important;z-index:12}@keyframes rollDoneOut{0%{transform:translate(-50%) translateY(calc(-50% + 110px)) scale(.88) rotateX(-25deg);opacity:.5}40%{transform:translate(-50%) translateY(calc(-50% + 150px)) scale(.86) rotateX(-32deg);opacity:.35}to{transform:translate(-50%) translateY(calc(-50% + 220px)) scale(.82) rotateX(-42deg);opacity:0}}.carousel-card.sliding-down{animation:rollToDown var(--carousel-roll-duration) var(--carousel-roll-ease) forwards;transition:none!important;z-index:28}@keyframes rollToDown{0%{transform:translate(-50%) translateY(-50%) scale(1) rotateX(0);opacity:1}25%{transform:translate(-50%) translateY(calc(-50% + 30px)) scale(.97) rotateX(-6deg);opacity:.9}50%{transform:translate(-50%) translateY(calc(-50% + 60px)) scale(.93) rotateX(-14deg);opacity:.75}75%{transform:translate(-50%) translateY(calc(-50% + 90px)) scale(.9) rotateX(-20deg);opacity:.6}to{transform:translate(-50%) translateY(calc(-50% + 110px)) scale(.88) rotateX(-25deg);opacity:.5}}.carousel-card.sliding-to-active{animation:rollToActive var(--carousel-roll-duration) var(--carousel-roll-ease) forwards;transition:none!important;z-index:30}@keyframes rollToActive{0%{transform:translate(-50%) translateY(calc(-50% - 110px)) scale(.88) rotateX(15deg);opacity:.7}25%{transform:translate(-50%) translateY(calc(-50% - 70px)) scale(.91) rotateX(10deg);opacity:.8}50%{transform:translate(-50%) translateY(calc(-50% - 35px)) scale(.95) rotateX(5deg);opacity:.9}75%{transform:translate(-50%) translateY(calc(-50% - 10px)) scale(.98) rotateX(1deg);opacity:.95}to{transform:translate(-50%) translateY(-50%) scale(1) rotateX(0);opacity:1}}.carousel-card.sliding-behind-to-upcoming{animation:rollBehindToUpcoming var(--carousel-roll-duration) var(--carousel-roll-ease) forwards;transition:none!important;z-index:26}@keyframes rollBehindToUpcoming{0%{transform:translate(-50%) translateY(calc(-50% - 185px)) scale(.82) rotateX(25deg);opacity:0}35%{transform:translate(-50%) translateY(calc(-50% - 155px)) scale(.84) rotateX(22deg);opacity:.52}70%{transform:translate(-50%) translateY(calc(-50% - 130px)) scale(.86) rotateX(18deg);opacity:.62}to{transform:translate(-50%) translateY(calc(-50% - 110px)) scale(.88) rotateX(15deg);opacity:.7}}.carousel-card.sliding-done-to-active{animation:rollDoneToActive var(--carousel-roll-duration) var(--carousel-roll-ease) forwards;transition:none!important;z-index:30}@keyframes rollDoneToActive{0%{transform:translate(-50%) translateY(calc(-50% + 110px)) scale(.88) rotateX(-25deg);opacity:.5}25%{transform:translate(-50%) translateY(calc(-50% + 70px)) scale(.91) rotateX(-18deg);opacity:.7}50%{transform:translate(-50%) translateY(calc(-50% + 35px)) scale(.95) rotateX(-10deg);opacity:.85}75%{transform:translate(-50%) translateY(calc(-50% + 10px)) scale(.98) rotateX(-3deg);opacity:.95}to{transform:translate(-50%) translateY(-50%) scale(1) rotateX(0);opacity:1}}.carousel-card.sliding-active-to-upcoming{animation:rollActiveToUpcoming var(--carousel-roll-duration) var(--carousel-roll-ease) forwards;transition:none!important;z-index:28}@keyframes rollActiveToUpcoming{0%{transform:translate(-50%) translateY(-50%) scale(1) rotateX(0);opacity:1}25%{transform:translate(-50%) translateY(calc(-50% - 10px)) scale(.98) rotateX(2deg);opacity:.92}50%{transform:translate(-50%) translateY(calc(-50% - 35px)) scale(.95) rotateX(6deg);opacity:.84}75%{transform:translate(-50%) translateY(calc(-50% - 70px)) scale(.91) rotateX(11deg);opacity:.77}to{transform:translate(-50%) translateY(calc(-50% - 110px)) scale(.88) rotateX(15deg);opacity:.7}}.carousel-card.sliding-upcoming-to-behind{animation:rollUpcomingToBehind var(--carousel-roll-duration) var(--carousel-roll-ease) forwards;transition:none!important;z-index:20}@keyframes rollUpcomingToBehind{0%{transform:translate(-50%) translateY(calc(-50% - 110px)) scale(.88) rotateX(15deg);opacity:.7}50%{transform:translate(-50%) translateY(calc(-50% - 150px)) scale(.84) rotateX(21deg);opacity:.25}to{transform:translate(-50%) translateY(calc(-50% - 185px)) scale(.82) rotateX(25deg);opacity:0}}.carousel-card.sliding-below-to-done{animation:rollBelowToDone var(--carousel-roll-duration) var(--carousel-roll-ease) forwards;transition:none!important;z-index:12}@keyframes rollBelowToDone{0%{transform:translate(-50%) translateY(calc(-50% + 220px)) scale(.82) rotateX(-42deg);opacity:0}40%{transform:translate(-50%) translateY(calc(-50% + 165px)) scale(.84) rotateX(-34deg);opacity:.28}75%{transform:translate(-50%) translateY(calc(-50% + 130px)) scale(.86) rotateX(-30deg);opacity:.4}to{transform:translate(-50%) translateY(calc(-50% + 110px)) scale(.88) rotateX(-25deg);opacity:.5}}.carousel-card.cascade-down{animation:cascadeDown .45s cubic-bezier(.34,1.56,.64,1) forwards}@keyframes cascadeDown{}.carousel-card.cascade-further{animation:cascadeFurther .4s cubic-bezier(.4,0,.2,1) forwards}@keyframes cascadeFurther{0%{opacity:.6}to{opacity:.4}}.pills-empty{color:#fff6;font-style:italic;text-align:center;padding:60px 40px;border:1.5px dashed rgba(255,255,255,.12);border-radius:24px;background:#ffffff05;backdrop-filter:blur(10px)}.focus-footer{margin-top:20px;display:flex;flex-direction:column;align-items:center;gap:12px;position:relative;z-index:1}.focus-controls-group{display:flex;gap:12px;width:100%;justify-content:center}.control-btn{display:flex;align-items:center;justify-content:center;gap:10px;padding:14px 24px;border-radius:16px;font-size:15px;font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.16,1,.3,1);border:1px solid rgba(255,255,255,.1);text-transform:uppercase;letter-spacing:1px}.control-btn .btn-icon{width:20px;height:20px}.control-btn.primary-action{flex:2;background:var(--task-color);color:#fff;border:none;box-shadow:0 10px 20px color-mix(in srgb,var(--task-color) 20%,transparent)}.control-btn.primary-action:hover{transform:translateY(-2px);filter:brightness(1.1);box-shadow:0 15px 30px color-mix(in srgb,var(--task-color) 30%,transparent)}.control-btn.primary-action.running{background:color-mix(in srgb,var(--task-color) 75%,#111 25%);color:#fff;border:none;box-shadow:0 14px 30px color-mix(in srgb,var(--task-color) 18%,transparent)}.control-btn.secondary-action{flex:1;background:#ffffff12;color:#ffffffbf;border-color:#ffffff29}.control-btn.secondary-action:hover{background:#ef44441a;color:#ef4444;border-color:#ef444433}.focus-commit-btn.disabled{opacity:.4;pointer-events:none;filter:grayscale(.5) brightness(.8);box-shadow:none;background:#ffffff0d;border-color:#ffffff14;color:#ffffff4d;backdrop-filter:blur(5px)}.focus-commit-btn.committed{animation:commitPulse .5s ease-out}@keyframes commitPulse{0%{transform:scale(1)}50%{transform:scale(1.15);box-shadow:0 0 50px #3b82f6cc}to{transform:scale(1)}}.focus-secondary-action{background:transparent;border:none;color:var(--text-tertiary);font-size:13px;font-weight:500;cursor:pointer;transition:all .2s ease;padding:8px 16px;border-radius:8px}.focus-secondary-action:hover{color:var(--text-primary);background:#ffffff0d}.decision-overlay{position:absolute;inset:-20px;background:radial-gradient(circle at center,rgba(10,15,30,.92) 0%,rgba(10,15,30,.8) 60%,transparent 100%);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);z-index:10;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:50%;padding:40px;animation:decisionSpring .5s cubic-bezier(.175,.885,.32,1.275)}@keyframes decisionSpring{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.decision-title{font-size:18px;font-weight:800;text-transform:uppercase;letter-spacing:4px;color:var(--task-color);margin-bottom:30px;text-shadow:0 0 15px color-mix(in srgb,var(--task-color) 40%,transparent)}.decision-grid{display:flex;flex-direction:column;gap:12px;width:100%;max-width:260px}.decision-btn{display:flex;align-items:center;gap:12px;padding:14px 20px;background:#ffffff0a;border:1px solid rgba(255,255,255,.08);border-radius:14px;color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.16,1,.3,1)}.decision-btn:hover{background:#ffffff14;border-color:#fff3;transform:translateY(-2px);box-shadow:0 8px 20px #0000004d}.decision-btn.primary{background:var(--task-color);border-color:transparent;color:#fff;box-shadow:0 10px 25px color-mix(in srgb,var(--task-color) 30%,transparent)}.decision-btn.primary:hover{filter:brightness(1.1);box-shadow:0 15px 35px color-mix(in srgb,var(--task-color) 45%,transparent)}.phase-execution .focus-checklist{opacity:.1;pointer-events:none;filter:blur(4px)}.phase-execution .checklist-item.active-step{opacity:1;pointer-events:auto;filter:none;transform:scale(1.05);z-index:10}.return-anchor-container{background:linear-gradient(145deg,#ffffff0a,#ffffff03);border:1px solid rgba(255,255,255,.05);border-top:1px solid rgba(255,255,255,.1);border-radius:24px;padding:20px 24px;transition:all .5s cubic-bezier(.16,1,.3,1);box-shadow:inset 0 1px 1px #ffffff0d,0 20px 40px #0003}.return-anchor-container:focus-within{background:#ffffff12;border-color:color-mix(in srgb,var(--task-color) 30%,rgba(255,255,255,.2));transform:translateY(-4px) scale(1.02);box-shadow:0 30px 60px #0006,0 0 20px color-mix(in srgb,var(--task-color) 15%,transparent)}.return-anchor-label{font-size:9px;text-transform:uppercase;letter-spacing:4px;color:var(--task-color);opacity:.6;margin-bottom:12px;font-weight:800}.return-anchor-input{background:transparent;border:none;color:#fff;font-size:15px;width:100%;outline:none;font-weight:300}.return-anchor-input::placeholder{color:#fff3}.break-timer{font-size:14px;color:#10b981;font-weight:600;display:flex;align-items:center;gap:8px}.pomodoro-btn{width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3b82f6,#2563eb);border:none;border-radius:50%;color:#fff;cursor:pointer;transition:all .25s cubic-bezier(.16,1,.3,1);box-shadow:0 4px 15px #3b82f666}.pomodoro-btn:hover{transform:scale(1.1);box-shadow:0 6px 20px #3b82f680}.pomodoro-btn:active{transform:scale(.95)}.pomodoro-btn.pomodoro-reset{width:40px;height:40px;background:#ffffff14;box-shadow:none}.pomodoro-btn.pomodoro-reset:hover{background:#ffffff26;box-shadow:none}.floating-pomodoro-badge{position:fixed;z-index:9999;padding:12px 18px;background:#0f172ad9;backdrop-filter:blur(24px) saturate(180%);-webkit-backdrop-filter:blur(24px) saturate(180%);border:1px solid rgba(255,255,255,.1);border-radius:20px;color:#fff;display:flex;align-items:center;gap:20px;box-shadow:0 12px 40px #0009,inset 0 1px 1px #ffffff1a;cursor:grab;transition:transform .3s cubic-bezier(.16,1,.3,1),box-shadow .3s ease,border-color .3s ease;max-width:340px}.floating-pomodoro-badge:hover{transform:translateY(-2px);border-color:#3b82f666;box-shadow:0 16px 48px #000000b3,0 0 20px #3b82f626}.floating-pomodoro-badge:active{cursor:grabbing;transform:translateY(-1px) scale(.98)}.badge-content{display:flex;flex-direction:column;gap:4px;min-width:0;pointer-events:none}.badge-task-title{font-size:13px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;opacity:.95;letter-spacing:.2px}.badge-time-row{display:flex;align-items:center;gap:10px}.badge-mode{font-size:9px;font-weight:800;text-transform:uppercase;letter-spacing:1.2px;color:var(--task-color, #3b82f6);filter:brightness(1.2)}.badge-time{font-size:16px;font-weight:700;letter-spacing:-.5px;font-variant-numeric:tabular-nums;color:var(--text-secondary)}.badge-actions{display:flex;gap:8px}.badge-btn{padding:6px 12px;border-radius:10px;font-size:11px;font-weight:700;cursor:pointer;transition:all .2s cubic-bezier(.16,1,.3,1)}.badge-btn.primary{background:linear-gradient(135deg,#3b82f6,#2563eb);border:none;color:#fff;box-shadow:0 4px 12px #3b82f666}.badge-btn.primary:hover{transform:scale(1.05);filter:brightness(1.1)}.badge-btn.secondary{background:#ffffff0f;border:1px solid rgba(255,255,255,.12);color:var(--text-tertiary)}.badge-btn.secondary:hover{background:#ffffff1f;border-color:#fff3;color:var(--text-primary)}.filter-panel{padding:var(--space-md)}.filter-item{margin-bottom:4px}.filter-checkbox-label{display:flex;align-items:center;gap:var(--space-sm);padding:6px 8px;border-radius:var(--radius-sm);cursor:pointer;transition:background var(--transition-fast)}.filter-checkbox-label:hover{background:var(--bg-hover)}.filter-checkbox{width:16px;height:16px;accent-color:var(--accent-primary);cursor:pointer}.filter-color{width:12px;height:12px;border-radius:var(--radius-full);flex-shrink:0}.filter-name{font-size:var(--font-size-sm);color:var(--text-secondary)}.filter-checkbox:checked+.filter-color+.filter-name{color:var(--text-primary);font-weight:var(--font-weight-medium)}.filter-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-md);padding-bottom:var(--space-sm);border-bottom:1px solid var(--border-tertiary)}.filter-title{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--text-tertiary);margin:0}.filter-clear-btn{font-size:var(--font-size-xs);color:var(--text-muted);background:none;border:none;cursor:pointer;padding:4px 8px;border-radius:var(--radius-sm);transition:all var(--transition-fast)}.filter-clear-btn:hover{color:var(--accent-error);background:#ef44441a}.filter-actions{display:flex;gap:6px}.filter-action-btn{font-size:var(--font-size-xs);color:var(--text-muted);background:var(--bg-tertiary);border:1px solid var(--border-tertiary);cursor:pointer;padding:5px 10px;border-radius:var(--radius-sm);transition:all var(--transition-fast);font-weight:var(--font-weight-medium)}.filter-action-btn:hover{color:var(--text-primary);background:var(--bg-elevated);border-color:var(--border-secondary)}.filter-action-btn:first-child:hover{color:var(--accent-success);border-color:var(--accent-success)}.filter-action-btn:last-child:hover{color:var(--accent-error);border-color:var(--accent-error)}.filter-cards{display:flex;flex-direction:column;gap:var(--space-sm)}.filter-card{position:relative;display:flex;flex-direction:column;padding:var(--space-md);background:#ffffff05;border:1px solid var(--glass-border);border-radius:var(--radius-lg);cursor:pointer;transition:all var(--transition-spring);overflow:hidden}.filter-card:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:var(--dept-color);opacity:.3;transition:all var(--transition-normal)}.filter-card:hover{background:#ffffff14;border-color:var(--glass-border-light);transform:translateY(-2px)}.filter-card:hover:before{opacity:1}.filter-card.selected{background:color-mix(in srgb,var(--dept-color) 15%,rgba(255,255,255,.05));border-color:var(--glass-border-light)}.filter-card.selected:before{opacity:1}.filter-card-header{display:flex;align-items:center;gap:var(--space-sm)}.filter-card-color{width:12px;height:12px;border-radius:var(--radius-full);opacity:.7}.filter-card:hover .filter-card-color,.filter-card.selected .filter-card-color{opacity:1}.filter-card-name{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--text-tertiary);transition:color var(--transition-fast)}.filter-card:hover .filter-card-name,.filter-card.selected .filter-card-name{color:var(--text-primary)}.filter-card-count{font-size:var(--font-size-xs);color:var(--text-muted);margin-top:2px;padding-left:20px}.filter-card-check{position:absolute;right:var(--space-md);top:50%;transform:translateY(-50%);width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border:2px solid var(--border-secondary);border-radius:var(--radius-full);opacity:.5;transition:all var(--transition-normal)}.filter-card-check svg{width:14px;height:14px;opacity:0;transition:opacity var(--transition-fast)}.filter-card.selected .filter-card-check{background:var(--accent-success);border-color:var(--accent-success);opacity:1}.filter-card.selected .filter-card-check svg{opacity:1;color:#fff}.analytics-container{padding:var(--space-md)}.analytics-stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:var(--space-md)}.analytics-stat-card{display:flex;flex-direction:column;align-items:center;text-align:center;gap:4px;padding:10px 8px;background:linear-gradient(135deg,#ffffff0f,#ffffff05);border-radius:10px;border:1px solid rgba(255,255,255,.08)}.analytics-stat-card:last-child{grid-column:span 2;flex-direction:row;justify-content:center;gap:10px}.stat-icon{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border-radius:8px;flex-shrink:0}.stat-icon svg{opacity:.9}.stat-icon-tasks{color:#10b981;background:#10b9811f}.stat-icon-mini{color:#a855f7;background:#a855f71f}.stat-icon-time{color:#3b82f6;background:#3b82f61f}.stat-content{flex:1;min-width:0}.stat-value{font-size:16px;font-weight:700;color:var(--text-primary);line-height:1.2}.stat-value .stat-total{font-size:11px;font-weight:500;color:var(--text-tertiary)}.stat-label{font-size:9px;font-weight:600;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px;margin-top:2px}.stat-bar{height:3px;width:100%;background:#ffffff14;border-radius:2px;margin-top:6px;overflow:hidden}.stat-bar-fill{height:100%;background:linear-gradient(90deg,#10b981,#22d3ee);border-radius:2px;transition:width .5s ease}.stat-bar-fill.mini{background:linear-gradient(90deg,#8b5cf6,#a855f7)}.analytics-stat-card.ring-card{flex-direction:row;gap:12px;padding:12px}.analytics-stat-card.ring-card .stat-content{text-align:left}.analytics-stat-card.time-card{flex-direction:row;justify-content:center;gap:10px}.progress-ring-container{position:relative;width:60px;height:60px;flex-shrink:0}.progress-ring{width:100%;height:100%;transform:rotate(-90deg)}.progress-ring-bg{fill:none;stroke:#ffffff14;stroke-width:6}.progress-ring-fill{fill:none;stroke-width:6;stroke-linecap:round;transition:stroke-dashoffset .6s cubic-bezier(.4,0,.2,1)}.progress-ring-fill.tasks{stroke:#10b981;filter:drop-shadow(0 0 6px rgba(16,185,129,.5))}.progress-ring-fill.mini{stroke:#a855f7;filter:drop-shadow(0 0 6px rgba(168,85,247,.5))}.progress-ring-value{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:14px;font-weight:700;color:var(--text-primary)}.sparkline-container{width:100%;height:24px;margin-top:6px;opacity:.9}.sparkline{width:100%;height:100%;overflow:visible}.sparkline-line{stroke-linecap:round;stroke-linejoin:round;animation:sparkDraw 1s ease-out forwards;stroke-dasharray:200;stroke-dashoffset:200}.sparkline-line.tasks{filter:drop-shadow(0 0 3px rgba(16,185,129,.4))}.sparkline-line.mini{filter:drop-shadow(0 0 3px rgba(168,85,247,.4))}.sparkline-fill{animation:sparkFadeIn .8s ease-out .3s forwards;opacity:0}@keyframes sparkDraw{to{stroke-dashoffset:0}}@keyframes sparkFadeIn{to{opacity:1}}.analytics-header{margin-bottom:var(--space-md)}.analytics-header h3{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:var(--text-primary);margin-bottom:4px}.analytics-total{font-size:var(--font-size-sm);color:var(--text-tertiary)}.analytics-bar-container{margin-bottom:var(--space-md)}.analytics-bar-label{display:flex;justify-content:space-between;margin-bottom:6px}.analytics-dept{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium)}.analytics-value{font-size:var(--font-size-xs);color:var(--text-tertiary)}.analytics-bar-wrapper{height:8px;background:var(--bg-tertiary);border-radius:var(--radius-full);overflow:hidden}.analytics-bar{height:100%;border-radius:var(--radius-full);position:relative;transition:width var(--transition-slow)}.analytics-bar-completed{position:absolute;top:0;left:0;height:100%;background:#ffffff4d;border-radius:var(--radius-full)}.analytics-empty{text-align:center;padding:var(--space-xl) var(--space-md);color:var(--text-tertiary);border:1px dashed var(--border-secondary);border-radius:var(--radius-lg);background:linear-gradient(135deg,#3b82f608,#8b5cf608);margin:0}.summary-overlay{position:fixed;inset:0;z-index:2000;display:flex;align-items:center;justify-content:center;background:#000000bf;backdrop-filter:blur(10px);animation:fadeIn .2s ease-out}.summary-content{position:relative;width:90%;max-width:480px;max-height:85vh;background:linear-gradient(180deg,var(--bg-tertiary) 0%,var(--bg-secondary) 100%);border:1px solid rgba(255,255,255,.08);border-radius:20px;box-shadow:0 25px 60px -10px #0009,0 0 50px #6366f126;overflow:hidden;animation:slideUp .3s ease-out}.summary-close{position:absolute;top:16px;right:16px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:10px;color:var(--text-secondary);font-size:20px;cursor:pointer;transition:all .15s ease}.summary-close:hover{background:#ef444426;border-color:#ef44444d;color:#ef4444}.summary-header{padding:24px 24px 16px;text-align:center;background:linear-gradient(135deg,#6366f11f,#8b5cf614);border-bottom:1px solid rgba(255,255,255,.06)}.summary-header h2{margin:0;font-size:20px;font-weight:700;color:var(--text-primary)}.summary-week-label{font-size:12px;color:var(--text-tertiary);margin-top:4px;display:block}.summary-body{padding:24px;overflow-y:auto;max-height:calc(85vh - 180px)}.summary-main-stat{display:flex;flex-direction:column;align-items:center;margin-bottom:24px}.summary-ring{width:120px;height:120px}.summary-ring .ring-progress{transition:stroke-dashoffset 1s ease-out}.summary-ring .ring-text{font-size:22px;font-weight:700;fill:var(--text-primary)}.summary-main-label{font-size:13px;color:var(--text-tertiary);margin-top:8px}.summary-stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:24px}.summary-stat-card{display:flex;flex-direction:column;align-items:center;padding:16px 12px;background:#ffffff08;border:1px solid rgba(255,255,255,.06);border-radius:12px;transition:all .2s ease}.summary-stat-card:hover{background:#ffffff0d;border-color:#ffffff1a}.summary-stat-card.highlight{background:linear-gradient(135deg,#f59e0b1a,#f9731614);border-color:#f59e0b33}.summary-stat-card .stat-value{font-size:20px;font-weight:700;color:var(--text-primary)}.summary-stat-card .stat-label{font-size:11px;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px;margin-top:4px}.summary-daily{margin-bottom:20px}.summary-daily h4{font-size:12px;font-weight:600;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 12px}.daily-bars{display:flex;justify-content:space-between;gap:8px;height:100px;align-items:flex-end;padding:12px;background:#ffffff05;border-radius:12px}.daily-bar-item{flex:1;display:flex;flex-direction:column;align-items:center;height:100%;position:relative}.daily-bar-fill{width:100%;max-width:32px;background:linear-gradient(180deg,#6366f1,#4f46e5);border-radius:4px 4px 0 0;min-height:4px;transition:height .5s ease-out}.daily-bar-item.best .daily-bar-fill{background:linear-gradient(180deg,#10b981,#059669);box-shadow:0 0 12px #10b98166}.daily-bar-label{font-size:10px;color:var(--text-tertiary);margin-top:6px}.daily-bar-value{font-size:9px;color:var(--text-muted);position:absolute;top:-16px}.summary-highlight{display:flex;align-items:center;gap:10px;padding:12px 16px;background:linear-gradient(135deg,#10b9811a,#05966914);border:1px solid rgba(16,185,129,.2);border-radius:12px;margin-bottom:20px}.highlight-icon{font-size:20px}.highlight-text{font-size:13px;color:var(--text-secondary)}.highlight-text strong{color:#10b981}.summary-trend{margin-bottom:8px}.summary-trend h4{font-size:12px;font-weight:600;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 12px}.summary-sparkline{width:100%;height:50px;display:block}.summary-footer{padding:16px 24px;border-top:1px solid rgba(255,255,255,.06);display:flex;justify-content:center}.glass-surface{position:relative;backdrop-filter:blur(12px) saturate(180%);-webkit-backdrop-filter:blur(12px) saturate(180%);background:linear-gradient(135deg,#ffffff14,#ffffff05);border:1px solid var(--glass-border, rgba(255, 255, 255, .1));border-radius:var(--radius-md, 12px);transition:all var(--transition-spring, .3s cubic-bezier(.4, 0, .2, 1));overflow:hidden}.glass-surface-hover:hover{border-color:#fff3;transform:translateY(-2px);box-shadow:0 10px 25px #0003}.glass-surface-deep{backdrop-filter:blur(50px) saturate(150%);-webkit-backdrop-filter:blur(50px) saturate(150%);background:linear-gradient(145deg,#0f172af2,#0a0f1efa);border:1px solid rgba(255,255,255,.08)}.task-queue-empty{text-align:center;padding:var(--space-2xl) var(--space-lg);color:var(--text-tertiary)}.task-queue-empty-icon{font-size:48px;margin-bottom:var(--space-md);opacity:.5}.week-display{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:var(--text-primary);min-width:200px;text-align:center}.dnd-active .calendar-task{pointer-events:none}.drag-over{background:var(--bg-active)!important}.drop-target{background:#10b98126!important;box-shadow:inset 0 0 0 2px #10b9814d}.drop-invalid{background:#ef444426!important;box-shadow:inset 0 0 0 2px #ef44444d}.tab-badge{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;padding:0 5px;margin-left:6px;font-size:10px;font-weight:700;color:#fff;background:var(--accent-gradient);border-radius:var(--radius-full);box-shadow:0 0 8px #3b82f64d}.task-block.completing{animation:completeTask .6s ease forwards}@keyframes completeTask{0%{transform:scale(1);filter:brightness(1)}30%{transform:scale(1.05);filter:brightness(1.2)}to{transform:scale(1);filter:brightness(1);opacity:.5}}.completion-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#10b9814d;z-index:100;animation:fadeInOut .6s ease forwards}.completion-overlay svg{width:48px;height:48px;color:#fff;filter:drop-shadow(0 0 8px rgba(16,185,129,.8));animation:checkmarkPop .4s ease forwards}@keyframes fadeInOut{0%{opacity:0}30%{opacity:1}to{opacity:0}}@keyframes checkmarkPop{0%{transform:scale(0)}50%{transform:scale(1.2)}to{transform:scale(1)}}.day-column.today{background:linear-gradient(180deg,rgba(59,130,246,.05) 0%,transparent 50%)}.skeleton{background:linear-gradient(90deg,var(--bg-tertiary) 0%,var(--bg-elevated) 50%,var(--bg-tertiary) 100%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:var(--radius-md)}.skeleton-text{height:12px;margin-bottom:8px}.skeleton-text.short{width:60%}.skeleton-text.medium{width:80%}.skeleton-card{height:60px;margin-bottom:var(--space-sm)}@keyframes shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.btn-ripple{position:relative;overflow:hidden}.btn-ripple:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#ffffff4d;border-radius:50%;transform:translate(-50%,-50%);transition:width .6s,height .6s,opacity .6s;opacity:0}.btn-ripple:active:after{width:200px;height:200px;opacity:0}.hover-lift{transition:transform .2s ease,box-shadow .2s ease}.hover-lift:hover{transform:translateY(-2px);box-shadow:0 8px 25px -8px #0000004d}.pulse{animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.6}}.modal-overlay{position:fixed;inset:0;background:#0f172a66;backdrop-filter:blur(8px) saturate(160%);-webkit-backdrop-filter:blur(8px) saturate(160%);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:all .3s cubic-bezier(.16,1,.3,1)}.modal-overlay.active{opacity:1;visibility:visible}.modal{background:var(--glass-bg);backdrop-filter:blur(32px) saturate(200%);-webkit-backdrop-filter:blur(32px) saturate(200%);border:1px solid var(--glass-border-light);border-radius:var(--radius-2xl);width:100%;max-width:520px;max-height:90vh;display:flex;flex-direction:column;overflow:hidden;box-shadow:var(--shadow-premium);animation:modalSlideIn .5s var(--transition-spring)}@keyframes modalSlideIn{0%{opacity:0;transform:translateY(30px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-lg) var(--space-xl);border-bottom:1px solid var(--glass-border);background:#ffffff08}.modal-title{font-family:var(--font-display);font-size:var(--font-size-xl);font-weight:800;color:var(--text-primary);letter-spacing:-.5px}.modal-close{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border:1px solid var(--glass-border);border-radius:var(--radius-full);color:var(--text-secondary);cursor:pointer;transition:all var(--transition-normal)}.modal-close:hover{background:var(--accent-error);border-color:var(--accent-error);color:#fff;transform:rotate(90deg)}.modal-body{padding:var(--space-lg);overflow-y:auto}.modal-footer{display:flex;justify-content:flex-end;gap:var(--space-md);padding:var(--space-md) var(--space-lg);border-top:1px solid var(--glass-border);background:#0f172a4d}.form-group{margin-bottom:var(--space-lg)}.form-label{display:block;font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.form-label-optional{font-weight:var(--font-weight-normal);opacity:.6;text-transform:none}.steps-input-wrapper{display:flex;gap:var(--space-sm)}.steps-input-wrapper .form-input{flex:1}.btn-add-step{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--accent-gradient);border:none;border-radius:var(--radius-md);color:#fff;font-size:20px;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.btn-add-step:hover{transform:scale(1.05);box-shadow:0 4px 12px #3b82f64d}.steps-list{list-style:none;margin-top:var(--space-sm);max-height:150px;overflow-y:auto}.step-item{display:flex;align-items:center;gap:var(--space-sm);padding:8px 10px;background:var(--bg-tertiary);border-radius:var(--radius-sm);margin-bottom:4px;animation:step-slide-in .2s ease-out}@keyframes step-slide-in{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.step-item .step-checkbox{width:18px;height:18px;border:2px solid var(--border-secondary);border-radius:6px;background:transparent;flex-shrink:0;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast)}.step-item.completed{opacity:.6}.step-item.completed .step-text{text-decoration:line-through;color:var(--text-tertiary)}.step-item .step-checkbox.checked{background:var(--accent-primary);border-color:var(--accent-primary);color:#fff}.step-item .step-text{flex:1;font-size:var(--font-size-sm);color:var(--text-primary)}.step-item .step-remove{width:20px;height:20px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--radius-sm);color:var(--text-tertiary);cursor:pointer;transition:all var(--transition-fast)}.step-item .step-remove:hover{background:var(--accent-error);color:#fff}.form-input,.form-textarea{width:100%;padding:12px 14px;background:var(--bg-primary);border:1px solid var(--border-primary);border-radius:var(--radius-md);color:var(--text-primary);font-size:var(--font-size-md);font-family:inherit;transition:all var(--transition-fast)}.form-input::placeholder,.form-textarea::placeholder{color:var(--text-muted)}.form-input:hover,.form-textarea:hover{border-color:var(--border-secondary)}.form-input:focus,.form-textarea:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #3b82f626,inset 0 1px 2px #0003;background:var(--bg-secondary)}.form-textarea{min-height:80px;resize:vertical;line-height:1.5}.form-input[readonly]{background:var(--bg-tertiary);border-color:var(--border-tertiary);color:var(--text-secondary);cursor:default;opacity:.8}.form-input[readonly]:hover,.form-input[readonly]:focus{border-color:var(--border-tertiary);box-shadow:none;background:var(--bg-tertiary)}.form-select{width:100%;padding:10px 36px 10px 12px;background:var(--bg-primary);border:1px solid var(--border-primary);border-radius:var(--radius-md);color:var(--text-primary);font-size:var(--font-size-sm);font-family:inherit;cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236b6b80' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;transition:all var(--transition-fast)}.form-select:hover{border-color:var(--border-secondary);background-color:var(--bg-secondary)}.form-select:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #3b82f626}.form-select option{background:var(--bg-secondary);color:var(--text-primary);padding:8px}#scheduleInfo{background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);border:1px solid rgba(59,130,246,.2);border-radius:var(--radius-lg);padding:var(--space-md);margin-bottom:var(--space-lg)}.schedule-info-row{display:flex;align-items:center;gap:var(--space-md)}.schedule-info-label{font-size:var(--font-size-xs);color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}#scheduleDayDisplay,#scheduleTimeDisplay{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:var(--accent-secondary)}#scheduleMaxInfo{margin-left:auto;font-size:var(--font-size-xs);color:var(--text-tertiary);background:var(--bg-tertiary);padding:4px 8px;border-radius:var(--radius-full)}.dept-level{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-sm)}.dept-level-number{width:20px;height:20px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border-radius:var(--radius-full);font-size:11px;font-weight:var(--font-weight-bold);color:var(--text-tertiary)}.dept-level .form-select{flex:1}#hierarchyPreview{display:flex;flex-wrap:wrap;align-items:center;gap:6px;padding:var(--space-sm) var(--space-md);background:var(--bg-tertiary);border-radius:var(--radius-md);min-height:36px}.hierarchy-path-item{display:inline-flex;align-items:center;padding:4px 10px;background:var(--bg-elevated);border-radius:var(--radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-medium);color:var(--text-secondary)}.hierarchy-path-item:first-child{background:var(--task-color, var(--accent-primary));color:#fff;font-weight:var(--font-weight-semibold)}.hierarchy-path-separator{color:var(--text-muted);font-size:14px}.duration-selector{display:flex;gap:8px;margin-bottom:var(--space-sm)}.duration-option{flex:1;padding:10px 8px;background:var(--bg-tertiary);border:1px solid var(--border-primary);color:var(--text-secondary);cursor:pointer;text-align:center;border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);transition:all var(--transition-fast)}.duration-option:hover:not(.disabled){background:var(--bg-elevated);border-color:var(--border-secondary);color:var(--text-primary);transform:translateY(-1px)}.duration-option.selected{background:var(--accent-gradient);color:#fff;border-color:transparent;font-weight:var(--font-weight-semibold);box-shadow:0 4px 12px #3b82f64d;position:relative}.duration-option.selected:after{content:"";position:absolute;top:2px;right:4px;font-size:10px;font-weight:700;opacity:.8}.duration-option.disabled{opacity:.4;cursor:not-allowed}#customDuration{display:none;align-items:center;gap:var(--space-sm);padding:var(--space-sm);background:var(--bg-tertiary);border-radius:var(--radius-md);margin-top:var(--space-sm)}#customDuration .form-input{width:80px;text-align:center}#customDuration span{font-size:var(--font-size-sm);color:var(--text-tertiary)}.modal-footer .btn{min-width:100px}.modal-footer .btn-primary{padding:10px 24px}.hierarchy-level{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-sm)}.hierarchy-level-indicator{width:22px;height:22px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));border-radius:var(--radius-full);font-size:11px;font-weight:700;color:#fff;flex-shrink:0}.hierarchy-level .form-select{flex:1}.schedule-preview{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-md);background:linear-gradient(135deg,#3b82f626,#8b5cf61a);border:1px solid rgba(59,130,246,.25);border-radius:var(--radius-lg)}.schedule-preview span{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:var(--accent-secondary)}.schedule-separator{color:var(--text-tertiary)!important;font-weight:400!important}.schedule-max-info{margin-left:auto;font-size:var(--font-size-xs)!important;color:var(--text-tertiary)!important;background:var(--bg-tertiary);padding:4px 10px;border-radius:var(--radius-full);font-weight:var(--font-weight-medium)!important}.hierarchy-path-preview{display:flex;flex-wrap:wrap;align-items:center;gap:6px;padding:var(--space-sm) var(--space-md);background:var(--bg-tertiary);border-radius:var(--radius-md);min-height:36px;margin-top:var(--space-sm)}.shortcuts-modal{position:fixed;inset:0;z-index:2000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all .2s ease}.shortcuts-modal.active{opacity:1;visibility:visible}.shortcuts-overlay{position:absolute;inset:0;background:#000000b3;backdrop-filter:blur(8px)}.shortcuts-content{position:relative;background:linear-gradient(180deg,var(--bg-tertiary) 0%,var(--bg-secondary) 100%);border:1px solid rgba(255,255,255,.08);border-radius:16px;width:90%;max-width:400px;box-shadow:0 25px 60px -10px #0009,0 0 40px #6366f11a;animation:modalSlideIn .25s ease-out}.shortcuts-header{display:flex;align-items:center;justify-content:space-between;padding:18px 22px;border-bottom:1px solid rgba(255,255,255,.06);background:linear-gradient(135deg,#6366f11f,#8b5cf614)}.shortcuts-header h3{margin:0;font-size:16px;font-weight:600;color:var(--text-primary)}.shortcuts-close{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:8px;color:var(--text-secondary);font-size:18px;cursor:pointer;transition:all .15s ease}.shortcuts-close:hover{background:#ef444426;border-color:#ef44444d;color:#ef4444}.shortcuts-body{padding:20px 22px;display:flex;flex-direction:column;gap:16px}.shortcut-group h4{margin:0 0 10px;font-size:11px;font-weight:600;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}.shortcut-item{display:flex;align-items:center;gap:8px;padding:6px 0}.shortcut-item kbd{display:inline-flex;align-items:center;justify-content:center;min-width:28px;height:26px;padding:0 8px;background:linear-gradient(180deg,var(--bg-elevated) 0%,var(--bg-tertiary) 100%);border:1px solid rgba(255,255,255,.12);border-radius:6px;box-shadow:0 2px #0000004d,inset 0 1px #ffffff0d;font-family:inherit;font-size:12px;font-weight:600;color:var(--text-primary)}.shortcut-item span{flex:1;font-size:13px;color:var(--text-secondary)}.confirm-overlay{position:fixed;inset:0;background:#000000b3;backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:fadeIn .2s ease}.confirm-modal{background:var(--bg-elevated);border:1px solid var(--border-primary);border-radius:var(--radius-lg);padding:var(--space-xl);min-width:350px;max-width:500px;box-shadow:0 20px 60px #00000080;animation:scaleIn .2s ease}.confirm-content{display:flex;flex-direction:column;gap:var(--space-lg)}.confirm-message{font-size:var(--font-size-base);color:var(--text-primary);line-height:1.5;margin:0}.confirm-buttons{display:flex;gap:var(--space-sm);justify-content:flex-end}.confirm-btn{padding:var(--space-sm) var(--space-lg);border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);cursor:pointer;transition:all var(--transition-fast);border:none}.confirm-cancel{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-primary)}.confirm-cancel:hover{background:var(--bg-tertiary);border-color:var(--border-secondary)}.confirm-delete{background:var(--accent-error);color:#fff}.confirm-delete:hover{background:#dc2626;transform:translateY(-1px);box-shadow:0 4px 12px #ef44444d}.confirm-delete:focus{outline:2px solid var(--accent-error);outline-offset:2px}@keyframes scaleIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.dept-settings-modal{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;animation:fadeIn .2s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.dept-settings-overlay{position:absolute;inset:0;background:#000000b3;backdrop-filter:blur(8px)}.dept-settings-content{position:relative;width:92%;max-width:520px;max-height:85vh;background:linear-gradient(180deg,var(--bg-tertiary) 0%,var(--bg-secondary) 100%);border-radius:16px;border:1px solid rgba(255,255,255,.08);box-shadow:0 0 0 1px #0000004d,0 25px 60px -10px #0009,0 0 40px #6366f11a;display:flex;flex-direction:column;overflow:hidden;animation:slideUp .3s ease-out}.dept-settings-header{display:flex;align-items:center;justify-content:space-between;padding:18px 22px;background:linear-gradient(135deg,#6366f11f,#8b5cf614);border-bottom:1px solid rgba(255,255,255,.06)}.dept-settings-header h2{margin:0;font-size:16px;font-weight:600;color:var(--text-primary);display:flex;align-items:center;gap:10px;letter-spacing:-.01em}.dept-settings-header h2:before{content:"";width:8px;height:8px;background:linear-gradient(135deg,#6366f1,#8b5cf6);border-radius:50%;box-shadow:0 0 12px #6366f199}.dept-settings-close{width:30px;height:30px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:8px;color:var(--text-secondary);font-size:16px;cursor:pointer;transition:all .15s ease}.dept-settings-close:hover{background:#ef444426;border-color:#ef44444d;color:#ef4444}.dept-settings-body{flex:1;overflow-y:auto;padding:12px 16px 16px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.1) transparent}.dept-settings-body::-webkit-scrollbar{width:5px}.dept-settings-body::-webkit-scrollbar-track{background:transparent}.dept-settings-body::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:3px}.dept-section{margin-bottom:12px;background:#ffffff05;border-radius:12px;border:1px solid rgba(255,255,255,.06);overflow:hidden;transition:all .2s ease;cursor:grab}.dept-drag-handle{font-size:12px;color:var(--text-tertiary);opacity:.4;cursor:grab;user-select:none;transition:all .15s ease;letter-spacing:-2px;margin-left:-4px}.dept-parent:hover .dept-drag-handle{opacity:.8;color:var(--text-secondary)}.dept-section.dragging{opacity:.5;transform:scale(.98);border-color:#6366f14d;cursor:grabbing}.dept-section.drag-over{border-color:#6366f199;background:#6366f114;box-shadow:0 0 0 2px #6366f133}.dept-section.drag-over .dept-parent{background:linear-gradient(135deg,#6366f11f,#6366f10f)}.dept-parent{display:flex;align-items:center;gap:10px;padding:12px 14px;background:linear-gradient(135deg,#ffffff0f,#ffffff05);border-bottom:1px solid rgba(255,255,255,.04);transition:all .15s ease}.dept-parent:hover{background:linear-gradient(135deg,#ffffff17,#ffffff0a)}.dept-parent:hover .dept-actions{opacity:1}.dept-child-count{font-size:10px;font-weight:600;color:var(--text-tertiary);background:#ffffff14;padding:2px 6px;border-radius:10px;margin-left:-4px}.dept-children{position:relative;padding:8px 10px 10px 38px;background:#00000026;animation:treeExpand .3s ease-out}.dept-children:before{content:"";position:absolute;left:24px;top:0;bottom:16px;width:1px;background:linear-gradient(180deg,#ffffff26,#ffffff14);animation:treeFadeIn .4s ease-out}@keyframes treeExpand{0%{opacity:0;max-height:0}to{opacity:1;max-height:500px}}@keyframes treeFadeIn{0%{opacity:0}to{opacity:1}}.dept-child{position:relative}.dept-child-content{display:flex;align-items:center;gap:8px;padding:7px 10px;border-radius:8px;transition:all .15s ease}.dept-child-content:hover{background:#ffffff0a}.dept-child-content:hover .dept-actions{opacity:1}.dept-connector{position:relative;width:14px;height:2px;background:linear-gradient(90deg,#ffffff26,#ffffff14);border-radius:1px;margin-left:-20px;flex-shrink:0}.dept-connector:before{content:"";position:absolute;right:-1px;top:50%;transform:translateY(-50%);width:4px;height:4px;background:#ffffff1f;border-radius:50%;transition:all .2s ease}.dept-child-content:hover .dept-connector:before{background:#6366f199;box-shadow:0 0 6px #6366f166}.dept-subchildren{position:relative;margin-left:22px;padding-left:16px;margin-top:4px;animation:treeExpand .3s ease-out}.dept-subchildren:before{content:"";position:absolute;left:0;top:0;bottom:12px;width:1px;background:linear-gradient(180deg,#ffffff1a,#ffffff0a)}.dept-subchild{position:relative;display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:6px;transition:all .15s ease}.dept-subchild:hover{background:#ffffff08}.dept-subchild:hover .dept-actions{opacity:1}.dept-connector.deep{width:12px;background:linear-gradient(90deg,#ffffff1a,#ffffff0d);margin-left:-16px}.dept-connector.deep:before{width:3px;height:3px;background:#ffffff14}.dept-subchild:hover .dept-connector.deep:before{background:#8b5cf680;box-shadow:0 0 4px #8b5cf64d}.dept-color-picker{width:22px;height:22px;border:none;border-radius:6px;cursor:pointer;padding:0;background:transparent;transition:transform .15s ease;flex-shrink:0}.dept-color-picker:hover{transform:scale(1.1)}.dept-color-picker::-webkit-color-swatch-wrapper{padding:0}.dept-color-picker::-webkit-color-swatch{border:2px solid rgba(255,255,255,.2);border-radius:6px;box-shadow:0 2px 6px #0003}.dept-badge{display:inline-flex;align-items:center;justify-content:center;min-width:30px;height:20px;padding:0 6px;font-size:10px;font-weight:700;color:#fff;background:var(--accent-primary);border-radius:5px;text-transform:uppercase;letter-spacing:.3px;flex-shrink:0}.dept-badge.small{min-width:26px;height:18px;font-size:9px}.dept-badge.tiny{min-width:22px;height:16px;font-size:8px;padding:0 4px}.dept-name{flex:1;font-size:13px;font-weight:500;color:var(--text-primary);letter-spacing:-.01em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dept-child-content .dept-name,.dept-subchild .dept-name{font-size:12px;font-weight:400;color:var(--text-secondary)}.dept-actions{display:flex;gap:3px;opacity:0;transition:opacity .15s ease;flex-shrink:0}.dept-action-btn{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:transparent;border:1px solid rgba(255,255,255,.06);border-radius:5px;cursor:pointer;font-size:11px;color:var(--text-tertiary);transition:all .12s ease}.dept-action-btn:hover{background:#ffffff14;border-color:#ffffff1f;color:var(--text-primary)}.dept-action-btn.delete:hover{background:#ef44441f;border-color:#ef444440;color:#ef4444}.dept-action-btn.add:hover{background:#10b9811f;border-color:#10b98140;color:#10b981}.dept-settings-footer{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;border-top:1px solid rgba(255,255,255,.06);background:#00000026}.dept-settings-actions{display:flex;gap:8px}.dept-settings-footer .btn{padding:9px 16px;font-size:12px;font-weight:500;border-radius:7px;transition:all .15s ease}.dept-settings-footer .btn-secondary{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);color:var(--text-secondary)}.dept-settings-footer .btn-secondary:hover{background:#ffffff14;color:var(--text-primary)}.dept-settings-footer .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,.08);color:var(--text-tertiary)}.dept-settings-footer .btn-ghost:hover{background:#ffffff0a;color:var(--text-secondary)}.dept-settings-footer .btn-primary{background:linear-gradient(135deg,#6366f1,#8b5cf6);border:none;color:#fff;box-shadow:0 2px 8px #6366f140}.dept-settings-footer .btn-primary:hover{transform:translateY(-1px);box-shadow:0 4px 12px #6366f159}.dept-empty-state{text-align:center;padding:40px 20px;color:var(--text-tertiary)}.dept-empty-state p{margin:0;font-size:13px}
